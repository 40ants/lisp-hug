<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Drakma SSL failure on LW7.0</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Drakma SSL failure on LW7.0</h1>
                <pre>
Hi,

I'm trying to use Drakma (2.0.2, via Quicklisp) to access an HTTPS endpoint in
Lispworks, but when I do I get the following error:

Error: SSL failure in #&lt;COMM:SOCKET-STREAM 224A4227&gt: error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure.

The code works fine in other Lisps (at least SBCL and CCL); presumably because
Drakma uses CL+SSL in most places, but COMM on LW.

I'd be grateful for any pointers on how to resolve this.  The error itself
seems to come from the bowels of the SSL library; searching on it throws up
references suggesting that either the client or (more likely) the server are
refusing SSLv3 for security reasons.  However, my relatively limited knowledge
of LispWorks (and SSL!) prevents me from digging much deeper than this.

Platform: LispWorks 7 Pro 32 bit, on OS X 10.11.1.  The endpoint I'm trying to
connect to is an Amazon AWS API gateway; you should be able to reproduce with
(drakma:http-request "https://prs6733f32.execute-api.us-east-1.amazonaws.com/")

Thanks,

-- 
Mike Clarke

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Drakma SSL failure on LW7.0</h1>
                 <p>
                  Unable to parse email body. Email id is 13613
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:32 UTC
             </div>
            </footer>
           </body>
          </html>