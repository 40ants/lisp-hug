<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>clsql / foreign-library problem</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>clsql / foreign-library problem</h1>
                <pre>
Hello.

Since monday I try to install LW611Win64 (without uninstalling a previous LW446Win32).
My mainproblem is to bring CLSQL back to life.
There is an error "Bad Image" (a windows-error-message ?!?) occurring, followed by &lt;&lt;Couldn't load foreign libraries "clsql_uffi64", "clsql_uffi". (searched CLSQL-SYS:*FOREIGN-LIBRARY-SEARCH-PATHS*)&gt&gt (a lisp-error-message).
As you see below the bad image refers to clsql_uffi.lib, which doesn't change since long ago and which (still) runs with LW446.
Is it a LW-bug, a CLSQL-bug, a Windows-bug or my fault?

Thanks, Heiner Paulsen.




lispworks-6-1-0-x64-windows.exe - Ungültiges Bild
C:\home\lisp\clsql-5.1.1\uffi\clsql_uffi.lib ist entweder nicht für die
Ausführung unter Windows vorgesehen oder enthält einen Fehler.
Installieren sie das Programm mit den Originalinstallationsmedien
erneut, oder wenden Sie sich an den Systemadministrator oder
Softwarelieferanten, um Unterstützung zu erhalten.

(In translation, something like:
lispworks-6-1-0-x64-windows.exe - Bad Image
C:\home\lisp\clsql-5.1.1\uffi\clsql_uffi.lib is either 
not designed to run on Windows or it contains an error. 
Try installing the program again using the original 
installation media or contact your system 
administrator or the software vendor for support.)

Condition: Couldn't load foreign libraries "clsql_uffi64", "clsql_uffi". (searched CLSQL-SYS:*FOREIGN-LIBRARY-SEARCH-PATHS*)
Call to ERROR {offset 119}
  SYSTEM::ESTRING : "Couldn't load foreign librar~@P ~{~S~^, ~}. (searched ~S)"
  SYSTEM::EARGS   : (2 ("clsql_uffi64" "clsql_uffi") CLSQL-SYS:*FOREIGN-LIBRARY-SEARCH-PATHS*)
Call to FIND-AND-LOAD-FOREIGN-LIBRARY {offset 1181}
  FILENAMES                              : ("clsql_uffi64" "clsql_uffi")
  DBG::|rest-|                           : (:MODULE "clsql-uffi" :SUPPORTING-LIBRARIES ("c"))
  MODULE  {Closing}                      : "clsql-uffi"
  SUPPORTING-LIBRARIES  {Closing}        : ("c")
  ERRORP                                 : T
  DBG::|internal-flet-name-for-TRY-LOAD| : #&lt;Closure TRY-LOAD subfunction of FIND-AND-LOAD-FOREIGN-LIBRARY 404012825C&gt
  DBG::|or-|                             : NIL

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>RE: clsql / foreign-library problem</h1>
                 <pre>
Well, you seem to try to upgrade from 32bit to 64bit version, I bet you'll need to recompile external libraries to 64bit (or install them) in order to start working again.

Regards

Ladislav


-----Original Message-----
From: owner-lisp-hug@lispworks.com [mailto:owner-lisp-hug@lispworks.com] On Behalf Of Heiner Paulsen
Sent: Thursday, April 23, 2015 11:02 AM
To: lisp-hug@lispworks.com
Subject: clsql / foreign-library problem


Hello.

Since monday I try to install LW611Win64 (without uninstalling a previous LW446Win32).
My mainproblem is to bring CLSQL back to life.
There is an error "Bad Image" (a windows-error-message ?!?) occurring, followed by &lt;&lt;Couldn't load foreign libraries "clsql_uffi64", "clsql_uffi". (searched CLSQL-SYS:*FOREIGN-LIBRARY-SEARCH-PATHS*)&gt&gt (a lisp-error-message).
As you see below the bad image refers to clsql_uffi.lib, which doesn't change since long ago and which (still) runs with LW446.
Is it a LW-bug, a CLSQL-bug, a Windows-bug or my fault?

Thanks, Heiner Paulsen.




lispworks-6-1-0-x64-windows.exe - Ungültiges Bild C:\home\lisp\clsql-5.1.1\uffi\clsql_uffi.lib ist entweder nicht für die Ausführung unter Windows vorgesehen oder enthält einen Fehler.
Installieren sie das Programm mit den Originalinstallationsmedien erneut, oder wenden Sie sich an den Systemadministrator oder Softwarelieferanten, um Unterstützung zu erhalten.

(In translation, something like:
lispworks-6-1-0-x64-windows.exe - Bad Image C:\home\lisp\clsql-5.1.1\uffi\clsql_uffi.lib is either not designed to run on Windows or it contains an error. 
Try installing the program again using the original installation media or contact your system administrator or the software vendor for support.)

Condition: Couldn't load foreign libraries "clsql_uffi64", "clsql_uffi". (searched CLSQL-SYS:*FOREIGN-LIBRARY-SEARCH-PATHS*)
Call to ERROR {offset 119}
  SYSTEM::ESTRING : "Couldn't load foreign librar~@P ~{~S~^, ~}. (searched ~S)"
  SYSTEM::EARGS   : (2 ("clsql_uffi64" "clsql_uffi") CLSQL-SYS:*FOREIGN-LIBRARY-SEARCH-PATHS*)
Call to FIND-AND-LOAD-FOREIGN-LIBRARY {offset 1181}
  FILENAMES                              : ("clsql_uffi64" "clsql_uffi")
  DBG::|rest-|                           : (:MODULE "clsql-uffi" :SUPPORTING-LIBRARIES ("c"))
  MODULE  {Closing}                      : "clsql-uffi"
  SUPPORTING-LIBRARIES  {Closing}        : ("c")
  ERRORP                                 : T
  DBG::|internal-flet-name-for-TRY-LOAD| : #&lt;Closure TRY-LOAD subfunction of FIND-AND-LOAD-FOREIGN-LIBRARY 404012825C&gt
  DBG::|or-|                             : NIL

_______________________________________________
Lisp Hug - the mailing list for LispWorks users lisp-hug@lispworks.com http://www.lispworks.com/support/lisp-hug.html


_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:33 UTC
             </div>
            </footer>
           </body>
          </html>