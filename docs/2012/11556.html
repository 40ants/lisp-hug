<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>test frameworks</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>test frameworks</h1>
                <p>
                 Unable to parse email body. Email id is 11556
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: test frameworks</h1>Nick,<div><br></div><div>There is a version of lisp-unit with extensions on Github.</div><div><br></div><div><a href="https://github.com/OdonataResearchLLC/lisp-unit">https://github.com/OdonataResearchLLC/lisp-unit</a> </div>
<div><br></div><div>Aside from the extensions, it is little changed from the original version by Chris Riesbeck. The near term plans are listed in the README. There are no plans to implement hierarchical, composable test suites like FiveAM. That might be something worth considering in a version 2 of lisp-unit once the version 1 goals have been accomplished.</div>
<div><br></div><div>Please feel free to contact me with any questions or suggestions.</div><div><br></div><div>Best regards,</div><div><br></div><div>Tom</div><div>----------------------------------------------------------------<br>
Thomas M. Hermann<br>Odonata Research LLC<br><a href="http://www.odonata-research.com/">http://www.odonata-research.com/</a><br><a href="http://www.linkedin.com/in/thomasmhermann">http://www.linkedin.com/in/thomasmhermann</a><br>

<br><br><div class="gmail_quote">On Wed, Apr 18, 2012 at 3:41 PM, Nick Barnes <span dir="ltr">&lt;<a href="mailto:Nick.Barnes@pobox.com">Nick.Barnes@pobox.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<br>
I need a test framework for regression-testing and unit-testing some<br>
libraries and applications written using LispWorks.  Suggestions?  I<br>
have read this:<br>
<br>
&lt;<a href="http://aperiodic.net/phil/archives/Geekery/notes-on-lisp-testing-frameworks.html" target="_blank">http://aperiodic.net/phil/archives/Geekery/notes-on-lisp-testing-frameworks.html</a>&gt;<br>
<br>
and looked through quite a few of the linked pages, as a result of<br>
which I am favouring FiveAM, and thinking of building some<br>
infrastructure for testing CAPI widgets.<br>
<br>
Nick B<br>
<br>
</blockquote></div><br></div>


                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: test frameworks</h1>
                 <pre>
Hi,

Just out of curiosity, what's wrong with just running some Lisp scripts calling assert?

Pascal

Sent from my iPad

On 18 Apr 2012, at 22:41, Nick Barnes &lt;Nick.Barnes@pobox.com&gt wrote:

&gt 
&gt I need a test framework for regression-testing and unit-testing some
&gt libraries and applications written using LispWorks.  Suggestions?  I
&gt have read this:
&gt 
&gt &lt;http://aperiodic.net/phil/archives/Geekery/notes-on-lisp-testing-frameworks.html&gt
&gt 
&gt and looked through quite a few of the linked pages, as a result of
&gt which I am favouring FiveAM, and thinking of building some
&gt infrastructure for testing CAPI widgets.
&gt 
&gt Nick B
&gt 


</pre>
                </article>
                <section class=tree>
                 <article class=email>
                  <h1>Re: test frameworks</h1>
                  <p>
                   Unable to parse email body. Email id is 11560
                 </article>
                 <section class=tree>
                  <article class=email>
                   <h1>Re: test frameworks</h1>
                   <pre>

On 19 Apr 2012, at 10:16, Nick Barnes wrote:

&gt At 2012-04-19 04:51:03+0000, Pascal Costanza writes:
&gt 
&gt&gt Just out of curiosity, what's wrong with just running some Lisp scripts calling assert?
&gt 
&gt The same things that are wrong with using wget/fetch/curl as a web
&gt browser, or with programming in machine code.


I don't think the analogy holds. In my experience, setting up test suites for languages like Java, Smalltalk, C++, etc., is pretty difficult and benefits strongly from testing frameworks. On the other hand, I never experienced the need for a test framework in Lisp, because writing the necessary test scripts that just call 'assert in the right places is pretty straightforward, and substantially easier to do than in those languages. So to rephrase my question, under what circumstances is testing without additional support even in Lisp difficult?


Pascal

--
Pascal Costanza




</pre>
                  </article>
                  <section class=tree>
                   <article class=email>
                    <h1>Re: test frameworks</h1>
                    <p>
                     Unable to parse email body. Email id is 11563
                   </article>
                   <section class=tree>
                    <article class=email>
                     <h1>Re: test frameworks</h1>
                     <pre>

On 19 Apr 2012, at 14:21, Nick Barnes wrote:

&gt At 2012-04-19 12:00:39+0000, Pascal Costanza writes:
&gt&gt 
&gt&gt On 19 Apr 2012, at 10:16, Nick Barnes wrote:
&gt&gt 
&gt&gt&gt At 2012-04-19 04:51:03+0000, Pascal Costanza writes:
&gt&gt&gt 
&gt&gt&gt&gt Just out of curiosity, what's wrong with just running some Lisp scripts calling assert?
&gt&gt&gt 
&gt&gt&gt The same things that are wrong with using wget/fetch/curl as a web
&gt&gt&gt browser, or with programming in machine code.
&gt&gt 
&gt&gt 
&gt&gt I don't think the analogy holds. In my experience, setting up test suites for languages like Java, Smalltalk, C++, etc., is pretty difficult and benefits strongly from testing frameworks. On the other hand, I never experienced the need for a test framework in Lisp, because writing the necessary test scripts that just call 'assert in the right places is pretty straightforward, and substantially easier to do than in those languages. So to rephrase my question, under what circumstances is testing without additional support even in Lisp difficult?
&gt 
&gt Well, in the current instance I want to be able to run many thousands
&gt of regression tests in an automated fashion, and get a detailed
&gt collated report of all unexpected behaviour [*] from the entire run,
&gt distinguishing between detected defects [*] and test system errors
&gt [*].  During this automated run, many different test fixtures and
&gt combinations of fixtures will need to be created and torn down in a
&gt reliable and consistent way.  Some tests will have fixed data, others
&gt will need to be randomized, in a manner which is reproducible from
&gt information contained in the report.  I will need to be able to
&gt manually run a single test from the suite, or a hierarchical subset,
&gt so both tests and subsets should be named, preferably with meaningful
&gt names.  I will need to be able to manually specify parameters to an
&gt individual test or subset of tests.
&gt 
&gt Any system like that, in any language, is going to include hundreds of
&gt lines of test framework, not counting the actual test and fixture
&gt code.  Although I've built such frameworks in various languages over
&gt the years, and although some languages make it easier than others (it
&gt was easier in Python than in C, and it's probably easier in Lisp than
&gt it was in Python), I'd rather not have to do it again.
&gt 
&gt [*] Avoiding the term "test failure", which is ambiguous and also
&gt communicates exactly the wrong message about the purpose of software
&gt testing.  A test which detects a defect is a success by any reasonable
&gt definition.


OK, thank you very much. This is a very clear and helpful answer.

Best,
Pascal

--
Pascal Costanza




</pre>
                    </article>
                   </section>
                  </section>
                 </section>
                 <section class=tree>
                  <article class=email>
                   <h1>Re: test frameworks</h1>
                   <pre>
Pascal Costanza &lt;pc@p-cos.net&gt writes:

&gt On 19 Apr 2012, at 10:16, Nick Barnes wrote:
&gt
&gt&gt At 2012-04-19 04:51:03+0000, Pascal Costanza writes:
&gt&gt 
&gt&gt&gt Just out of curiosity, what's wrong with just running some Lisp scripts calling assert?
&gt&gt 
&gt&gt The same things that are wrong with using wget/fetch/curl as a web
&gt&gt browser, or with programming in machine code.
&gt
&gt
&gt I don't think the analogy holds. In my experience, setting up test
&gt suites for languages like Java, Smalltalk, C++, etc., is pretty
&gt difficult and benefits strongly from testing frameworks. On the other
&gt hand, I never experienced the need for a test framework in Lisp,
&gt because writing the necessary test scripts that just call 'assert in
&gt the right places is pretty straightforward, and substantially easier
&gt to do than in those languages. So to rephrase my question, under what
&gt circumstances is testing without additional support even in Lisp
&gt difficult?

I second the question.  

- one of my projects where testing was big, "unit" test frameworks
  weren't useful because what we wanted to test was end-to-end and
  round-trip of a SMTP based system.  I wrote that in emacs lisp (it was
  before I switched to CL and that was what motivated me to switch to
  CL).

- on another of my project where I needed more than (defun  test/feature
  () (assert …)… :success), I wrote my own simple test framework in less
  than 130 lines of lisp.  I lost 10% of that time browsing the
  documentation of the other lisp test frameworks, without being
  convinced of their usefulness for my project.



Not to say that they are never useful, but the cases are rare IMO.
One thing on the other hand that may be more useful is to provide a test
"target" to our ASDF system.  Not a lot of libraries have it.

-- 
__Pascal Bourguignon__                     http://www.informatimago.com/
A bad day in () is better than a good day in {}.


</pre>
                  </article>
                 </section>
                 <section class=tree>
                  <article class=email>
                   <h1>Re: test frameworks</h1><br class="Apple-interchange-newline">On Thu, Apr 19, 2012 at 7:36 AM, Pascal J. Bourguignon <span dir="ltr">&lt;<a href="mailto:pjb@informatimago.com">pjb@informatimago.com</a>&gt;</span> wrote:<div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<br></blockquote><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div class="HOEnZb"><div class="h5">[ snipped lots of stuff ]</div>
</div></blockquote><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"> </blockquote><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
Not to say that they are never useful, but the cases are rare IMO.<br>One thing on the other hand that may be more useful is to provide a test<br>&quot;target&quot; to our ASDF system.  Not a lot of libraries have it.</blockquote>
<div><br></div><div>I don&#39;t use unit testing for all of my code. Creating tests for program behavior is tedious. The idea of a unit test framework is to reduce the tedium of writing and interpreting the tests to promote testing.</div>
<div><br></div><div>When I take the time to write tests, the code being tested benefits from the process. There is a gulf between concept and implementation and writing tests helps bridge this gulf. A decent set of tests will provide a reasonable level of verification that the program is correct for proper input and generates errors for improper input. Creating the tests necessitates that you think about the atomic program behavior in the concrete. I benefit from conceiving the tests and have found errors in both my logic and implementation when writing unit tests. I&#39;ve also discovered corner cases that I didn&#39;t anticipate. A unit test framework is nothing more than collecting the &quot;simple test framework in less than 130 lines of lisp&quot; into a package for reuse.</div>
<div><br></div><div>During the initial development phase, writing the tests provides a preliminary, atomic, feel for the API. I&#39;ve revised function names, lambda lists, and return values while writing tests for aesthetic reasons. The tests provided an early look at using the library.</div>
<div><br></div><div>When a bug in the code is found, you can create tests specific to that bug. The tests will aid in verify that the bug is corrected and that that behavior doesn&#39;t surface in the future. The existing unit tests for the rest of the code help with fixing bugs by verifying that other behavior of the code has not been effected by correcting the bug. Similarly, unit tests are useful when factoring code to verify that the changes have not changed the behavior. This makes the code easier to maintain.</div>
<div><br></div><div>None of the testing I do is comprehensive or for that matter provably correct in any sense of the word. Nonetheless, it is useful. I have more confidence in code with some test coverage than code with none.. The ironic thing at the moment is that there are no unit tests for lisp-unit. I&#39;m working on internal tests for lisp-unit core and then using that core to write unit tests for the extensions. It is my intent to write unit tests for all code that I generate.</div>
<div><br></div><div>Best regards,</div><div><br></div><div>Tom</div>----------------------------------------------------------------<br>Thomas M. Hermann<br>Odonata Research LLC<br><a href="http://www.odonata-research.com/">http://www.odonata-research.com/</a><br>
<a href="http://www.linkedin.com/in/thomasmhermann">http://www.linkedin.com/in/thomasmhermann</a><br>
<br><br></div>


                  </article>
                 </section>
                </section>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: test frameworks</h1>
                 <pre>
Nick Barnes wrote on Wed, 18 Apr 2012 21:41:48 +0100 00:41:

| I need a test framework for regression-testing and unit-testing some
| libraries and applications written using LispWorks.  Suggestions?  I
| have read this:
| 
| &lt;http://aperiodic.net/phil/archives/Geekery/notes-on-lisp-testing-frame
| works.html&gt
| 
| and looked through quite a few of the linked pages, as a result of
| which I am favouring FiveAM, and thinking of building some
| infrastructure for testing CAPI widgets.

Looking at cliki.net and cl-user.net could also be valuable.

I would recommend the tester module from the acl-compat library.
For a small except from it I use on LispWorks, please see
http://lisp.ystok.ru/projects.html#acl-compat
--
Sincerely,
Dmitriy Ivanov
lisp.ystok.ru


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:32 UTC
             </div>
            </footer>
           </body>
          </html>