<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>running start-gc-monitor</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>running start-gc-monitor</h1>
                <pre>
Hi All,
      I've hit a crucial memory limit in a Mac Mini Server,  which  
does not affect a 2008 XServe.  Both are running MacOSX Lion,  and the  
Mac Mini has 16 GB (3rd party memory),  whereas the XServe has 32 GB,   
a standard configuration for the XServe.

     When Lispworks loads about 6 GB into a tree of hash tables, the  
Mac Mini cannot seem to give more than 5.2 GB virtual memory to  
Lispworks,  which then goes into what looks like an endless gc thrash.

     Yet when Lispworks loads about 6 GB into a tree of hash tables,  
the Xserve allocates 9.5 GB virtual memory to Lispworks,  which  
quickly gc's that back to 7 GB to successfully complete the hash table  
load.

    I suspect that the Mac Mini, which Apple only supports in  
configurations up to 8GB,  is somehow withholding memory from  
Lispworks beyond 5.2 GB. I'd like to run start-gc-monitor, to see  
better what's going on in the Mac Mini,  but this command does not work:

(capi:start-gc-monitor (capi:convert-to-screen))

Error: No applicable methods for #&lt;STANDARD-GENERIC-FUNCTION CAPI- 
LIBRARY:SCREEN-REPRESENTATION-START-GC-MONITOR 411071D51C&gt with args  
(#&lt;CAPI-COCOA-LIBRARY::SCREEN-REPRESENTATION for #&lt;CAPI:COLOR-SCREEN 0  
Cocoa&gt 42402EFE53&gt)
   1 (continue) Call #&lt;STANDARD-GENERIC-FUNCTION CAPI-LIBRARY:SCREEN- 
REPRESENTATION-START-GC-MONITOR 411071D51C&gt again
   2 (abort) Return to level 0.
   3 Return to top loop level 0.

Type :b for backtrace or :c &lt;option number&gt to proceed.
Type :bug-form "&lt;subject&gt" for a bug report template or :? for other  
options.


Could someone show me how to run start-gc-monitor, from the Listener?

Lawrence Au

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: running start-gc-monitor</h1>
                 <p>
                  Unable to parse email body. Email id is 11659
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:32 UTC
             </div>
            </footer>
           </body>
          </html>