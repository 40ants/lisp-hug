<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>sys:defun-and-inline</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>sys:defun-and-inline</h1>
                <pre>
Hi everybody,

I could never quite figure out how to convince the compiler to inline
my own functions.  I've searched the manuals for all mentions of the
word "inline" but couldn't find anything that helped.

However, in 7.5 of the User Guide and Reference Manual I saw the
symbol DEFUN-AND-INLINE and indeed using this instead of DEFUN seems
to do what I want.

Now, the symbol is exported but not documented.  Is it safe to use?
Does it really do what I expect or will it destroy the dishwasher
behind my back?

Thanks,
Edi.

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: sys:defun-and-inline</h1>
                 <pre>
Hi Camille,

I know about the INLINE declaration.  However, it says there that "no
conforming implementation is required to perform inline expansion of
user-defined functions" and it seemed to me that LW didn't always do
what I wanted.  But after writing my email I tried again with DECLAIM
and it suddenly (...) worked.  (In other words, I probably had
confused myself somehow.)

Still, it'd be interesting to know what DEFUN-AND-INLINE is good for.

Thanks,
Edi.


On Fri, Dec 28, 2012 at 9:11 PM, Camille Troillard
&lt;camille@osculator.net&gt wrote:
&gt Hello Edi,
&gt
&gt
&gt On 28 d√©c. 2012, at 20:42, Edi Weitz &lt;edi@weitz.de&gt wrote:
&gt
&gt&gt I could never quite figure out how to convince the compiler to inline
&gt&gt my own functions.  I've searched the manuals for all mentions of the
&gt&gt word "inline" but couldn't find anything that helped.
&gt&gt
&gt&gt However, in 7.5 of the User Guide and Reference Manual I saw the
&gt&gt symbol DEFUN-AND-INLINE and indeed using this instead of DEFUN seems
&gt&gt to do what I want.
&gt&gt
&gt&gt Now, the symbol is exported but not documented.  Is it safe to use?
&gt&gt Does it really do what I expect or will it destroy the dishwasher
&gt&gt behind my back?
&gt
&gt You might already be aware of this feature of Common Lisp, but I take my chance.
&gt You could use the inline declaration:
&gt http://www.lispworks.com/documentation/lw50/CLHS/Body/d_inline.htm
&gt
&gt Isn't that what you were looking for?
&gt
&gt
&gt All the best,
&gt Camille
&gt

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:36 UTC
             </div>
            </footer>
           </body>
          </html>