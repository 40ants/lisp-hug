<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>problems with foreign-parser:process-foreign-file, Visual Studio 2008</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>problems with foreign-parser:process-foreign-file, Visual Studio 2008</h1>
                <pre>
I recently "upgraded" from VS2005 to VS2008 to resolve some compatibility
issues.  Now when I try to run process-foreign-file on 3rd party header
files that had previously processed under 2005 without errors, I get

;;; Process-foreign-file : Level 1 parsing

[C:\Program Files\Microsoft Visual Studio 8\VC\include\crtdefs.h:506]:
Warning: Unexpected declspec symbol "deprecated".
Skipping rest of declspec.
;;; Process-foreign-file : Selecting foreign forms

Error: :FUNCTION fell through ECASE expression.
Wanted one of ((:ENUM :UNSIGNED :SIGNED) :POINTER
(:STRUCT :UNION) :C-ARRAY).
  1 (abort) Return to level 0.
  2 Return to top loop level 0.

when I have my path variable set to include
C:\Program Files\Microsoft Visual Studio 8\SDK\v2.0\Bin\;C:\Program Files
\Microsoft Visual Studio 8\VC\bin;C:\Program Files\Microsoft Visual Studio
8\Common7\IDE

and a whole slew of other errors when it contains instead
C:\Program Files\Microsoft Visual Studio 9.0\SDK\v3.5\Bin\;C:\Program Files
\Microsoft Visual Studio 9.0\VC\bin;C:\Program Files\Microsoft Visual
Studio 9.0\Common7\IDE

[note: I also have
(setf foreign-parser::*preprocessor*
        "C:\\Program Files\\Microsoft Visual Studio 9.0\\VC\\bin\\cl"
        foreign-parser::*PREPROCESSOR-INCLUDE-PATH*
        '("C:\\Program Files\\Microsoft Visual Studio 9.0\\VC\\include\\"))
or MVS 8 as appropriate]

Has anyone sucessfully processed header files on a Windoze XP machine
w/VS2008?
                                                                                
  Raymond Laning                                                                
  Principal Systems Engr                                                        
  Missile Systems                                                               
  Raytheon Company                                                              
                                                                                
                                                                                
                                                                                
                                                                                
  520.794.7924                                                                  
  rclaning@raytheon.com                                                         
                                                                                
                                                                                
                                                                                
  1151 E Hermans Rd                                                             
  Tucson, AZ 85756    www.raytheon.com                                          
                                                                                
                                                                                
  (Embedded image moved to file: pic22611.gif)Raytheon Sustainability           
                                                                                
  This message contains information that may be confidential and privileged.    
  Unless you are the addressee (or authorized to receive mail for the           
  addressee), you should not use, copy or disclose to anyone this message or    
  any information contained in this message. If you have received this message  
  in error, please so advise the sender by reply e-mail and delete this         
  message. Thank you for your cooperation.                                      
                                                                                
                                                                                


</pre>
               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:40 UTC
             </div>
            </footer>
           </body>
          </html>