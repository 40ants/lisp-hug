<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>*standard-output* with Unicode characters?</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>*standard-output* with Unicode characters?</h1>
                <pre>

I'm confused about how to output Unicode characters to
*standard-output* using format.  In my delivered app (and in my normal
development saved image) I want to do the equivalent of:

  (format t "~a~%" (string (code-char 8217)))

And have that print something (almost anything really) to the standard
output of my Linux terminal.

Instead, I get thrown into the debugger with "Error: #\U+2019 is not
of type BASE-CHAR." -- which is certainly true, since it's not an
8-bit character.

I'ved tried using SET-DEFAULT-CHARACTER-ELEMENT-TYPE and that didn't
seem to make a difference.  I presume I need to rebind
*standard-output* and/or *terminal-io* but I'm not sure how to do
that.

Any advice.

Cheers,
Chris Dean


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: *standard-output* with Unicode characters?</h1>
                 <pre>
Chris Dean wrote:
&gt I'm confused about how to output Unicode characters to
&gt *standard-output* using format.  In my delivered app (and in my normal
&gt development saved image) I want to do the equivalent of:
&gt 
&gt  (format t "~a~%" (string (code-char 8217)))

This works fine for me in LW 4.4.6.

I see:

REPL&gt (format t "~a~%" (string (code-char 8217)))
-- &gt '
--&gt NIL

Mitch


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: *standard-output* with Unicode characters?</h1>
                 <pre>

"Mitch Berkson" &lt;mitch@bermita.com&gt writes:
&gt This works fine for me in LW 4.4.6.
&gt
&gt I see:
&gt
&gt REPL&gt (format t "~a~%" (string (code-char 8217)))
&gt -- &gt '
&gt --&gt NIL

I only have LW 5.0 around these days, but that's good to know that the
older version works differently.

I get the same behavior as you in the GUI repl, it's only in a tty
repl that the problem occurs.

Cheers,
Chris Dean


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: *standard-output* with Unicode characters?</h1>
                 <pre>
&gt I get the same behavior as you in the GUI repl, it's only in a tty
&gt repl that the problem occurs.
&gt
&gt Cheers,
&gt Chris Dean

Chris,

It is quite possible that your tty (terminal application) does not
support Unicode or was not built with Unicode support. Unicode support
on Linux is somewhat hit and miss from what I recall.  Some apps
support unicode, others do not.

Jeff


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:47 UTC
             </div>
            </footer>
           </body>
          </html>