<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Debugging delivered app - differences between LWW4.4.6 and LWW5.0?</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Debugging delivered app - differences between LWW4.4.6 and LWW5.0?</h1>
                <pre>
Hi,

I have a small CAPI app on LWW which runs a gui in one thread and one or
more worker threads.

After moving it over to LWW5.0 I ran into a problem trying to diagnose a
problem with the delivered app.
One of the worker threads was throwing an error trying to access a
missing DLL (part of the app).  The error was reported in a console
window, but the app immediately quit without giving me the chance to
even read it.  Provoking the same error on the LWW4.4.6 build produced
the console window but did not kill the app - enabling me to debug the
problem.

Both apps are built from identical sources with the same delivery
script, the salient features of which are:

(deliver 'app::run "app" 0
         :keep-debug-mode :keep-packages
         :warn-on-missing-templates t
         :interface :capi
         :format t
         :keep-conditions :all
         :keep-clos t
         :keep-editor t
         :keep-lisp-reader t
         :keep-symbols '(COMMON-LISP::NIL))

Is there something else I need to do with LWW5.0 to prevent the app
dying when the worker thread generates an error?

- Dominic

______________________________________________________________________
This email has been scanned by the MessageLabs Email Security System.
For more information please visit http://www.messagelabs.com/email 
______________________________________________________________________


</pre>
               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:47 UTC
             </div>
            </footer>
           </body>
          </html>