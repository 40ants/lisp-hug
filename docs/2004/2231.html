<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>simple way to preserve case?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>simple way to preserve case?</h1>
                <pre>Is there an easy way to run LW in preserve-case (or lower-case) mode?

I'm building a compiler-compiler, or source-to-source transformer.

I want to read lower-case symbols and lists from a file, manipulate them, then 
write them out, preserving case. 

The "naive" approach results in upper-case output.  I can fix this by 
carefully using |'ed symbols and setting the reader's case, but, maybe there 
is something even simpler that will cause me less work (like an option to run 
LW in lower-case mode)?

thanx
pt


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: simple way to preserve case?</h1>
                 <p>
                  Unable to parse email body. Email id is 2232
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: simple way to preserve case?</h1>
                 <pre>* tarvydas  wrote:
&gt from a file appear to be written back in the original case, but the symbols 
&gt that I "generate" are always written out in upper case, e.g.  both of the 
&gt below examples write "DEFUN" out in upper case

&gt (pprint `(defun &lt;stuff-read-from-file&gt))

&gt (pprint `(DEFUN &lt;stuff-read-from-file&gt))

&gt Is that a symptom of the bug, or just a symptom of my continued 
&gt misunderstanding? :-)

The latter.  In the above, the source code is almost certainly read
with a standard readtable, so the DEFUN is translated to upper case in
the normal way.  When you print it, with the magic readtable in force,
the printer is doing its job and printing it in such a way that it can
be read.

The important thing to think about is what readtable is in effect
when.  Since you almost certainly want a standard (or at least a
translating-to-uppercase) readtable in effect when the system reads
your code (as opposed to your data), you'll need to make sure that any
symbols that you want to have lowercase names that you create at that
point are suitably escaped.  You could use a non-case-translating
readtable to read your code too, but then you'd have to WRITE IT LIKE
THIS...

--tim


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:52 UTC
             </div>
            </footer>
           </body>
          </html>