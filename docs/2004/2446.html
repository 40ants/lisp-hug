<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>a bug in compile-file?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>a bug in compile-file?</h1>
                <pre>Hi

(in-package :cl-user)

(let ((foo 42))
  (defun double-foo ()
    (* 2 foo))
  (let ((bar 21))
    (defun test ()
      (print (+ (double-foo) bar)))
    )
)

When compiled using compile-file on Lispworks personal 4.3.6 on Linux or 
windows, as well as when compiled using the same lispworks from within 
slime, the compiler emits the following warning:

The following function is undefined:
DOUBLE-FOO which is referenced by (TOP-LEVEL-FORM 3)

yet the double-foo function can be called after the compiled file is 
loaded and it gives the correct return value, so the bindings seems to 
be created correctly.

When the same code is compiled using the "compile buffer" menu entry or 
icon in the LispWorks GUI, the compiler _does_not _ provide this warning?

btw. as expected cmucl 18e, sbcl 0.8.11 and clisp 2.30 does not give a 
warning.

    Kristian


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>
                  Unable to render article 2466 because of ":DEFAULT stream decoding error on 
                  #&lt;SB-SYS:FD-STREAM for \"socket 192.168.43.216:53319, peer: 
                  116.202.254.214:119\" {1006A10AF3}&gt: the octet sequence #(248 114 101 110) 
                  cannot be decoded." error</h1>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:52 UTC
             </div>
            </footer>
           </body>
          </html>