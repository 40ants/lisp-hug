<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Internal Lispworks limit on size of fasls?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Internal Lispworks limit on size of fasls?</h1>
                <pre>Greetings. We're building a version of our system that maintains an
in-memory databases (using hash tables), and have tripped over an apparent
internal limit on the size of fasl files (or perhaps the data in them).

Roughly, we have a set of classes mirroring our Oracle db tables. Each has a
load form that simply calls MAKE-LOAD-FORM-SAVING-SLOTS. Fasls are created
for each table using SYS:DUMP-FORMS-TO-FILE. This all works just fine.
However, on some large tables, while loading the fasls via
SYS:LOAD-DATA-FILE, Lispworks raises a condition that seems to be related to
the size limit on a simple vector. I'm sorry, I don't have the exact message
handy.

We've worked around this problem by partitioning these troublesome tables
into multiple parts. However, I'd like to understand this issue; there are a
few "smallish" tables where the error occurs when I would not have expected
it, and some larger tables that had no trouble at all. The total amount of
data being dumped is roughly 80mb.

Thanks.

David E. Young
Bloodhound Software, Inc.
http://bloodhoundinc.com

"For wisdom is more precious than rubies,
and nothing you desire can compare with her."
  -- Prov. 8:11

"But all the world understands my language."
  -- Franz Joseph Haydn (1732-1809)


This email message is for the sole use of the intended recipients(s) and may contain confidential and privileged information of Bloodhound Software, Inc.. Any unauthorized review, use, disclosure is prohibited. If you are not the intended recipient, please contact the sender by reply email and destroy all copies of the original message.


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Internal Lispworks limit on size of fasls?</h1>
                 <p>
                  Unable to parse email body. Email id is 2740
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:51 UTC
             </div>
            </footer>
           </body>
          </html>