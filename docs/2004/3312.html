<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>c-callable</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>c-callable</h1><!doctype html public "-//W3C//DTD W3 HTML//EN">
<html><head><style type="text/css"><!--
blockquote, dl, ul, ol, li { padding-top: 0 ; padding-bottom: 0 }
 --></style><title>c-callable</title></head><body>
<div>Hello,</div>
<div><br></div>
<div><font face="Helvetica" color="#000000">We are using a Lisp
function to process MIDI data. The function is defined as c-callable
as explained in the LW Lisp Knowledgebase. There is a C based
framework that installs a CoreMIDI&nbsp; callback function that tries
to call our Lisp callback function.</font></div>
<div><font face="Helvetica" color="#000000">The system works perfectly
when we simulate MIDI input by calling the C callback function
explicitly from Lisp. This seems to imply that our foreign language
interface is working correctly. However, when we use a CoreMIDI
callback, LW crashes soon after receiving input.</font></div>
<div><font face="Helvetica" color="#000000">Is there some
threading-related issue we should be aware of? The difference between
the working simulated situation and the crashing MIDI callback case is
primarily that in the simulation, the function is called from the Lisp
main thread, while the callback case calls it from CoreMIDI high
priority thread.</font></div>
<div><font face="Helvetica" color="#000000"><br></font></div>
<div><font face="Helvetica" color="#000000">Mikael</font></div>
</body>
</html>

               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:50 UTC
             </div>
            </footer>
           </body>
          </html>