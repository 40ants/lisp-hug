<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>LWM: launching a delivered application and its menubar</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>LWM: launching a delivered application and its menubar</h1>
                <pre>Hi

I just delivered (successfully) an application under LWM.

However:

1 - the only way to run such an application seems to be from the shell.
2 - No menubar is installed for the application when launched in that 
way.

Is this correct?

Cheers

--
Marco Antoniotti
NYU Courant Bioinformatics Group		tel. +1 - 212 - 998 3488
715 Broadway 10th FL				fax. +1 - 212 - 998 3484
New York, NY, 10003, U.S.A.


________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs Email
Security System. For more information on a proactive email security
service working around the clock, around the globe, visit
http://www.messagelabs.com
________________________________________________________________________

</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: LWM: launching a delivered application and its menubar</h1>
                 <pre>Marco Antoniotti &lt;marcoxa@cs.nyu.edu&gt writes:

&gt However:
&gt 
&gt 1 - the only way to run such an application seems to be from the shell.

If Xanalys didn't include any tools since the beta that I'm not aware of,
you need to manually create the application bundle (.app directory).

When I asked for this during beta testing, Xanalys suggested to simply
copy the LispWorks.app directory and replace the appropriate files.

Here's what I did:

1. copied LispWorks.app to MyApp.app (using cp -pr from the command line)

2. replaced MyApp.app/Contents/MacOS/lispworks-4-3-0-darwin with
   my application binary

3. edited MyApp.app/Contents/Info.plist and replaced the appropriate strings

4. replaced the icon file MyApp.app/Contents/Resources/app.icns
   (there's a utility in the Apple dev. tools that will easily make an
    icns file for you from any suitable picture source).
-- 
  (espen)


________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs Email
Security System. For more information on a proactive email security
service working around the clock, around the globe, visit
http://www.messagelabs.com
________________________________________________________________________

</pre>
                </article>
                <section class=tree>
                 <article class=email>
                  <h1>Re: LWM: launching a delivered application and its menubar</h1>
                  <pre>Thanks.

That looks like what I needed.

Marco



On Wednesday, Aug 13, 2003, at 03:47 America/New_York, Espen Vestre  
wrote:

&gt Marco Antoniotti &lt;marcoxa@cs.nyu.edu&gt writes:
&gt
&gt&gt However:
&gt&gt
&gt&gt 1 - the only way to run such an application seems to be from the  
&gt&gt shell.
&gt
&gt If Xanalys didn't include any tools since the beta that I'm not aware  
&gt of,
&gt you need to manually create the application bundle (.app directory).
&gt
&gt When I asked for this during beta testing, Xanalys suggested to simply
&gt copy the LispWorks.app directory and replace the appropriate files.
&gt
&gt Here's what I did:
&gt
&gt 1. copied LispWorks.app to MyApp.app (using cp -pr from the command  
&gt line)
&gt
&gt 2. replaced MyApp.app/Contents/MacOS/lispworks-4-3-0-darwin with
&gt    my application binary
&gt
&gt 3. edited MyApp.app/Contents/Info.plist and replaced the appropriate  
&gt strings
&gt
&gt 4. replaced the icon file MyApp.app/Contents/Resources/app.icns
&gt    (there's a utility in the Apple dev. tools that will easily make an
&gt     icns file for you from any suitable picture source).
&gt --  
&gt   (espen)
&gt
&gt
&gt _______________________________________________________________________ 
&gt _
&gt This email has been scanned for all viruses by the MessageLabs Email
&gt Security System. For more information on a proactive email security
&gt service working around the clock, around the globe, visit
&gt http://www.messagelabs.com
&gt _______________________________________________________________________ 
&gt _
&gt
--
Marco Antoniotti
NYU Courant Bioinformatics Group		tel. +1 - 212 - 998 3488
715 Broadway 10th FL				fax. +1 - 212 - 998 3484
New York, NY, 10003, U.S.A.


________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs Email
Security System. For more information on a proactive email security
service working around the clock, around the globe, visit
http://www.messagelabs.com
________________________________________________________________________

</pre>
                 </article>
                </section>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: LWM: launching a delivered application and its menubar</h1>
                 <p>
                  Unable to parse email body. Email id is 1299
                </article>
                <section class=tree>
                 <article class=email>
                  <h1>Re: LWM: launching a delivered application and its menubar</h1>
                  <pre>Thanks

as usual I suffer from extreme cases of RTFM :)

Cheers

Marco


On Wednesday, Aug 13, 2003, at 09:13 America/New_York, David Fox wrote:

&gt
&gt    I just delivered (successfully) an application under LWM.
&gt
&gt    However:
&gt
&gt    1 - the only way to run such an application seems to be from the  
&gt shell.
&gt    2 - No menubar is installed for the application when launched in  
&gt that
&gt    way.
&gt
&gt    Is this correct?
&gt
&gt Your delivered image needs to be wrapped in a Mac OS application
&gt bundle.
&gt
&gt See section 3.4 of your Installation Guide and Release Notes for
&gt notes on saving an image with a Mac OS application bundle.
&gt
&gt The procedure for delivering with an application bundle is similar - I
&gt put below the relevant section from the latest version of the Delivery
&gt User Guide.
&gt
&gt
&gt Dave Fox
&gt Xanalys
&gt Compass House
&gt Vision Park
&gt Chivers Way
&gt Histon
&gt Cambridge
&gt CB4 9AD
&gt England
&gt
&gt Email: davef@xanalys.com
&gt Tel:   +44 1223 253793
&gt Fax:   +44 1223 257812
&gt These opinions are not necessarily those of Xanalys.
&gt
&gt
&gt ----------------------------------------------------------------------
&gt 9.3 Creating a Mac OS application bundle
&gt
&gt The section applies only to users of LispWorks for Macintosh.
&gt
&gt The example script in Section 9.1 on page 97 will create an executable
&gt on your Mac OS system and you can build your non-GUI programs like
&gt that.
&gt
&gt However, you should not simply run a Mac OS GUI application from the
&gt command line in Terminal.app. Instead you should put the image in a
&gt suitable Application Bundle and run it using the Finder.
&gt
&gt Your LispWorks Library contains example code which constructs a
&gt suitable Mac OS application bundle for your delivered image. The
&gt function write-macosapplication- bundle does several things:
&gt
&gt * creates the folders comprising an Application Bundle
&gt * adds the resources from LispWorks.app to the Application Bundle
&gt * writes a suitable Info.plist file in the Application Bundle
&gt * returns the path of the executable within the Application Bundle
&gt
&gt (in-package "CL-USER")
&gt (load-all-patches)
&gt ;; Load the compiled file othello. Should be in the same
&gt ;; directory as this script.
&gt (load (current-pathname "othello" "nfasl"))
&gt ;; Load the example code which creates an Application Bundle
&gt #+:cocoa
&gt (compile-file-if-needed
&gt (sys:example-file "configuration/macos-application-bundle")
&gt :load t)
&gt ;; Now deliver the application itself and create the
&gt ;; application Othello.app
&gt (deliver 'play-othello
&gt #+:cocoa (write-macos-application-bundle
&gt "/Applications/LispWorks/Othello.app")
&gt #-:cocoa "othello"
&gt 0 :interface :capi)
&gt (quit)
&gt
&gt Note how this script calls deliver with the executable path returned
&gt by writemacos- application-bundle.
&gt
&gt In the session below both script.lisp and othello.nfasl are on the
&gt Desktop.  Here is the start and end of the session output in
&gt Terminal.app:
&gt
&gt mymac:/Applications/LispWorks/LispWorks.app/Contents/MacOS 8 %
&gt lispworks-4-3-0-darwin -init ~/Desktop/script.lisp
&gt LispWorks(R): The Common Lisp Programming Environment
&gt Copyright (C) 1987-2003 Xanalys LLC. All rights reserved.
&gt Version 4.3.0
&gt Saved by Xanalys as lispworks-4-3-0-darwin, at 19 Jun 2003 16:34
&gt User dubya on mymac
&gt ; Loading text file /Applications/LispWorks/Library/hcl/4-3-0-0/
&gt config/siteinit.lisp
&gt ; Loading text file /Applications/LispWorks/Library/hcl/4-3-0-0/
&gt private-patches/load.lisp
&gt ; Loading text file /u/ldisk/dubya/Desktop/script.lisp
&gt ; Loading text file /Applications/LispWorks/Library/hcl/4-3-0-0/
&gt private-patches/load.lisp
&gt ; Loading fasl file /u/ldisk/dubya/Desktop/othello.nfasl
&gt ; Loading fasl file /Applications/LispWorks/Library/hcl/4-3-0-0/
&gt examples/configuration/macos-application-bundle.nfasl
&gt ; Loading fasl file /Applications/LispWorks/Library/hcl/4-3-0-0/
&gt load-on-demand/nclos/compile-and-delivery.nfasl
&gt [... full module loading and delivery output not shown...]
&gt Shaking stage : Saving image
&gt Delivery successful - /Applications/LispWorks/Othello.app/
&gt Contents/MacOS/Othello
&gt mymac:/Applications/LispWorks/LispWorks.app/Contents/MacOS 9 %
&gt
&gt The last line of the deliver output shows the full path to the
&gt executable, but you should run the Application
&gt /Applications/LispWorks/Othello.app via the Finder.
&gt
&gt ----------------------------------------------------------------------
&gt
&gt
&gt _______________________________________________________________________ 
&gt _
&gt This email has been scanned for all viruses by the MessageLabs Email
&gt Security System. For more information on a proactive email security
&gt service working around the clock, around the globe, visit
&gt http://www.messagelabs.com
&gt _______________________________________________________________________ 
&gt _
&gt
--
Marco Antoniotti
NYU Courant Bioinformatics Group		tel. +1 - 212 - 998 3488
715 Broadway 10th FL				fax. +1 - 212 - 998 3484
New York, NY, 10003, U.S.A.


________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs Email
Security System. For more information on a proactive email security
service working around the clock, around the globe, visit
http://www.messagelabs.com
________________________________________________________________________

</pre>
                 </article>
                </section>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:55 UTC
             </div>
            </footer>
           </body>
          </html>