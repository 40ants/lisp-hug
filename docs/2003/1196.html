<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>copy-array -&gt processor fault, illegal code??</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>copy-array -&gt processor fault, illegal code??</h1>
                <pre>Hello,

with lispworks 4.2.7 professional the following gives a processor fault.

(defun copy-array (array)
      (adjust-array (make-array (array-dimensions array)
                                :displaced-to array
                                :element-type (array-element-type array))
                    (array-dimensions array)
                    :displaced-to nil))

(defun test ()
  (dotimes (x 10000)
    (copy-array (make-array (list 30 30) :element-type '(unsigned-byte 
4)))))

(test)

Is something illegal with the above code?

I have assumed that this is not an array initialize problem as the created 
array is packed and so all possible bit patterns are legal values in the 
array, but maybe this assumption is wrong?

Rene.

_________________________________________________________________
Protect your PC - get McAfee.com VirusScan Online 
http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: copy-array -&gt processor fault, illegal code??</h1>
                 <p>
                  Unable to parse email body. Email id is 1197
                </article>
                <section class=tree>
                 <article class=email>
                  <h1>Re: copy-array -&gt processor fault, illegal code??</h1>
                  <p>
                   Unable to parse email body. Email id is 1198
                 </article>
                </section>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:56 UTC
             </div>
            </footer>
           </body>
          </html>