<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>deliver shared library with 10.14 Mojave</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>deliver shared library with 10.14 Mojave</h1>
                <pre>Using LW 7.0.0, I upgraded from 10.13 to 10.14 and it looks like that broke delivery of shared libraries. Anyone know if this is fixable or if it is fixed in the latest version of LW Mac?

Thanks,

John DeSoi, Ph.D.




Total allocated 49829376 (0x2F85600), total size 197738496 (0xBC94000) 

Quitting because of error:
   Failed to generate shared object, output:
; cc -m64  -dynamiclib -fno-common -mmacosx-version-min=10.5  -install_name libD5.dylib  "/Applications/LispWorks 7.0 (64-bit)/Library/lib/7-0-0-0/config/xstarter-amd64-darwin.o" "/private/var/tmp/lwtemp_Mac_664580W1XqIX.s" "-install_name" "@loader_path/libD5.dylib"  -lm -lc -lobjc -framework CoreServices -framework IOKit -o /private/var/tmp/lwtemp_Mac_664581PtqZ2g.dylib
; ld: library not found for -lgcc_s.10.5
; clang: error: linker command failed with exit code 1 (use -v to see invocation)


_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html

</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: deliver shared library with 10.14 Mojave</h1>
                 <pre>I solved this by downloading the 10.5 SDK from the link below and copying gcc_s.10.5 into the SDK folder for 10.14:

/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/lib

https://github.com/phracker/MacOSX-SDKs/releases

I'm sure there must be some magical way to force cc to use the 10.5 SDK installed at /Library/Developer/CommandLineTools/SDKs, but I could not get that to work. Seems like -mmacosx-version-min=10.5 should do that automatically.

John DeSoi, Ph.D.


&gt On Feb 13, 2019, at 11:16 AM, John DeSoi &lt;desoi@pgedit.com&gt wrote:
&gt 
&gt Using LW 7.0.0, I upgraded from 10.13 to 10.14 and it looks like that broke delivery of shared libraries. Anyone know if this is fixable or if it is fixed in the latest version of LW Mac?
&gt 
&gt 
&gt Quitting because of error:
&gt   Failed to generate shared object, output:
&gt ; cc -m64  -dynamiclib -fno-common -mmacosx-version-min=10.5  -install_name libD5.dylib  "/Applications/LispWorks 7.0 (64-bit)/Library/lib/7-0-0-0/config/xstarter-amd64-darwin.o" "/private/var/tmp/lwtemp_Mac_664580W1XqIX.s" "-install_name" "@loader_path/libD5.dylib"  -lm -lc -lobjc -framework CoreServices -framework IOKit -o /private/var/tmp/lwtemp_Mac_664581PtqZ2g.dylib
&gt ; ld: library not found for -lgcc_s.10.5
&gt ; clang: error: linker command failed with exit code 1 (use -v to see invocation)


_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html

</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:29 UTC
             </div>
            </footer>
           </body>
          </html>