<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Foreign Library Compatibility?</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Foreign Library Compatibility?</h1>
                <pre>I am facing a situation of absorbing a large amount of research-grade Go code into a Lisp application. 

I know that LW has a Java interface as well as an Objective C FLI interface (and for that matter, C). I also know that Go (and the others) have a runtime subsystem that they rely on for memory management, thread control, etc.

So I’m wondering how LW manages to coexist in the same process image with these other modules? Is there a sytem-wide standard Malloc that all abide by? What about in-process thread control? How do they manage to avoid stepping on each other?

It would seem that the only “safe” way to proceed would be to sandbox the foreign modules into their own process space, and use machine-level IPC to cross the process barrier with Lisp.

- DM

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html

</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Foreign Library Compatibility?</h1>
                 <pre>I have done this many times with external C libraries. 

But every instance that I can recall only uses the libraries as services against Lisp data that is passed to the C module. Fast crypto routines in C, fast filtering routines and FFT’s for signal processing. None of my external C modules allocates its own memory, nor does any thread switching.

- DM

&gt On Oct 15, 2019, at 9:29 AM, dbm@refined-audiometrics.com wrote:
&gt 
&gt I am facing a situation of absorbing a large amount of research-grade Go code into a Lisp application. 
&gt 
&gt I know that LW has a Java interface as well as an Objective C FLI interface (and for that matter, C). I also know that Go (and the others) have a runtime subsystem that they rely on for memory management, thread control, etc.
&gt 
&gt So I’m wondering how LW manages to coexist in the same process image with these other modules? Is there a sytem-wide standard Malloc that all abide by? What about in-process thread control? How do they manage to avoid stepping on each other?
&gt 
&gt It would seem that the only “safe” way to proceed would be to sandbox the foreign modules into their own process space, and use machine-level IPC to cross the process barrier with Lisp.
&gt 
&gt - DM


_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html

</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:29 UTC
             </div>
            </footer>
           </body>
          </html>