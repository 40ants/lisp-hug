<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Replacing make-char</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Replacing make-char</h1><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class="">Hi all,<div class=""><br class=""></div><div class="">This is probably a basic question, but as I’m new to both lispworks, and mostly common-lisp, I could use a little guidance.</div><div class=""><br class=""></div><div class="">I’m upgrading an application that uses lispworks, and hasn’t been recompiled in like 5 years.</div><div class=""><br class=""></div><div class="">I’ve run across `make-char` in the code, which I see has been removed:&nbsp;</div><div class=""><a href="http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm" class="">http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm</a></div><div class=""><br class=""></div><div class="">Since I’m still getting back up to speed with Lisp, it’s not immediately straight forward to me as to how to replace this usage, but I’m wondering if, for operators that have been removed from Lispworks, if there is usually some documentation on what they should be replaced with. &nbsp;In this case, `make-char`. &nbsp;:)</div><div class=""><br class=""></div><div class="">Thanks!</div><div class="">Steve</div></body></html>

               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1>
                 <p>
                  Unable to parse email body. Email id is 14939
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"></head><body dir="auto">You’ve not described make-char. It was never in the standard Common-Lisp. You should locate the specification of this old function, and &nbsp;reimplement it in CL.&nbsp;<br><br><div id="AppleMailSignature" dir="ltr">Sent from my iPad</div><div dir="ltr"><br>On 20 Apr 2019, at 03:48, Steven Githens &lt;<a href="mailto:steve@githens..org">steve@githens.org</a>&gt; wrote:<br><br></div><blockquote type="cite"><div dir="ltr"><meta http-equiv="Content-Type" content="text/html; charset=utf-8">Hi all,<div class=""><br class=""></div><div class="">This is probably a basic question, but as I’m new to both lispworks, and mostly common-lisp, I could use a little guidance.</div><div class=""><br class=""></div><div class="">I’m upgrading an application that uses lispworks, and hasn’t been recompiled in like 5 years.</div><div class=""><br class=""></div><div class="">I’ve run across `make-char` in the code, which I see has been removed:&nbsp;</div><div class=""><a href="http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm" class="">http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm</a></div><div class=""><br class=""></div><div class="">Since I’m still getting back up to speed with Lisp, it’s not immediately straight forward to me as to how to replace this usage, but I’m wondering if, for operators that have been removed from Lispworks, if there is usually some documentation on what they should be replaced with. &nbsp;In this case, `make-char`. &nbsp;:)</div><div class=""><br class=""></div><div class="">Thanks!</div><div class="">Steve</div></div></blockquote></body></html>

                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1>
                 <p>
                  Unable to parse email body. Email id is 14941
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1>
                 <pre>On 20.04.19 03:48, Steven Githens wrote:
&gt Hi all,
&gt 
&gt This is probably a basic question, but as I’m new to both lispworks, and 
&gt mostly common-lisp, I could use a little guidance.
&gt 
&gt I’m upgrading an application that uses lispworks, and hasn’t been 
&gt recompiled in like 5 years.
&gt 
&gt I’ve run across `make-char` in the code, which I see has been removed:
&gt http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm
 From my old Lispworks
Documentation for (DEFUN MAKE-CHAR):
Arguments: (CC &amp;OPTIONAL (BITS 0) (FONT 0))
CC must be a character, BITS and FONT must be non-negative
integers; the last two are optional with default values of 0.
Returns a character object which is the same as CC but with the
attributes given, or NIL if this is not possible.

Try (apropos "make-char") to see whether it is in some package and just 
not visible in cl-user

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html

</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1>
                 <pre>As mentioned, it's not in the standard. It is described in the prior 
Common Lisp: the Language, 2nd Edition

https://www.cs.cmu.edu/Groups/AI/html/cltl/cltl2.html

https://www.cs.cmu.edu/Groups/AI/html/cltl/clm/node138.html

which is essentially the description someone else gave.

On 4/19/19 8:48 PM, Steven Githens wrote:
&gt Hi all,
&gt
&gt This is probably a basic question, but as I’m new to both lispworks, 
&gt and mostly common-lisp, I could use a little guidance.
&gt
&gt I’m upgrading an application that uses lispworks, and hasn’t been 
&gt recompiled in like 5 years.
&gt
&gt I’ve run across `make-char` in the code, which I see has been removed:
&gt http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm
&gt
&gt Since I’m still getting back up to speed with Lisp, it’s not 
&gt immediately straight forward to me as to how to replace this usage, 
&gt but I’m wondering if, for operators that have been removed from 
&gt Lispworks, if there is usually some documentation on what they should 
&gt be replaced with. &nbsp;In this case, `make-char`. &nbsp;:)
&gt
&gt Thanks!
&gt Steve

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html

</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><br class=""><div><br class=""><blockquote type="cite" class=""><div class="">On 20 Apr 2019, at 07:27, Karsten Poeck &lt;<a href="mailto:Karsten.Poeck@gmail.com" class="">Karsten.Poeck@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div class="">On 20.04.19 03:48, Steven Githens wrote:<br class=""><blockquote type="cite" class="">Hi all,<br class="">This is probably a basic question, but as I’m new to both lispworks, and mostly common-lisp, I could use a little guidance.<br class="">I’m upgrading an application that uses lispworks, and hasn’t been recompiled in like 5 years.<br class="">I’ve run across `make-char` in the code, which I see has been removed:<br class=""><a href="http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm" class="">http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm</a><br class=""></blockquote>From my old Lispworks<br class="">Documentation for (DEFUN MAKE-CHAR):<br class="">Arguments: (CC &amp;OPTIONAL (BITS 0) (FONT 0))<br class="">CC must be a character, BITS and FONT must be non-negative<br class="">integers; the last two are optional with default values of 0.<br class="">Returns a character object which is the same as CC but with the<br class="">attributes given, or NIL if this is not possible.<br class=""></div></div></blockquote><div><br class=""></div><div>So the following should be a valid implementation:</div><div><br class=""></div><div><font face="Menlo" class="">(defun make-char (cc &amp;optional (bits 0) (font 0))</font></div><div><font face="Menlo" class="">&nbsp; "CC must be a character, BITS and FONT must be non-negative</font></div><div><font face="Menlo" class="">integers; the last two are optional with default values of 0.</font></div><div><font face="Menlo" class="">Returns a character object which is the same as CC but with the</font></div><div><font face="Menlo" class="">attributes given, or NIL if this is not possible."</font></div><div><font face="Menlo" class="">&nbsp; (if (and (zerop bits) (zerop font))</font></div><div><font face="Menlo" class="">&nbsp; &nbsp; &nbsp; cc</font></div><div><font face="Menlo" class="">&nbsp; &nbsp; &nbsp; nil))</font></div><div><font face="Menlo" class=""><br class=""></font></div><div><br class=""></div><div>Notice that in CL, there remains only char-int that can return a value that would depend on the implementation specific character attributes such as bits and font, if any. &nbsp;But there’s no standard function to inspect those attributes.</div><div><br class=""></div><div><br class=""></div><div>So, here you see a typical problem of having an application written in an implementation specific way: when the implementation evolves, it breaks the application.&nbsp;</div><div><br class=""></div><div>Instead of making the application evolve toward a more recent implementation specific lispworks language, I would advise to make it evolve toward the eternal Common Lisp standard language. &nbsp;If the application was written in Conforming Common Lisp Code, it would be guaranteed to work in any future Lispwork version that is a Conforming Implementation of Common Lisp, and as a bonus, it would also work in any other&nbsp;Conforming Implementation of Common Lisp.</div><div><br class=""></div><div>So here, your choice is between adding this make-char definition somewhere in your application, or grepping for all occurences of make-char, and remove it. &nbsp;Since make-char already takes a character, it’s useless (without attributes).</div><div><br class=""></div><div>On the other hand, if the application requires the management of character attributes (fonts, and modifier bits), then you might need a more complex change, implementing your own application specific attributed characters. &nbsp;This would involve a deeper refactoring, since one can assume that the attributed characters are stored in strings (not CL strings, you will need attirbuted strings), and used from input to display using standard CL function, or lispwork functions, that will need to be interfaced with. &nbsp;For example, if you define:</div><div><font face="Menlo" class=""><br class=""></font></div><div><div><font face="Menlo" class="">(defstruct (attributed-char</font></div><div><font face="Menlo" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (:constructor make-attributed-char)</font></div><div><font face="Menlo" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (:constructor make-char (character &amp;optional (bits 0) (font 0))))</font></div><div><font face="Menlo" class="">&nbsp; character</font></div><div><font face="Menlo" class="">&nbsp; (bits 0)</font></div><div><font face="Menlo" class="">&nbsp; (font 0))</font></div><div><font face="Menlo" class=""><br class=""></font></div><div><font face="Menlo" class="">(progn</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +shift+ &nbsp; #b00000001)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +control+ #b00000010)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +meta+ &nbsp; &nbsp;#b00000100)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +hyper+ &nbsp; #b00001000)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +super+ &nbsp; #b00010000)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +alt+ &nbsp; &nbsp; #b00100000)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +command+ #b01000000)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +greek+ &nbsp; #b10000000)</font></div><div><font face="Menlo" class=""><br class=""></font></div><div><font face="Menlo" class="">&nbsp; (defconstant +helvetica+ 1)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +times+ &nbsp; &nbsp; 2)</font></div><div><font face="Menlo" class="">&nbsp; (defconstant +courier+ &nbsp; 3))</font></div><div><font face="Menlo" class=""><br class=""></font></div><div><font face="Menlo" class="">(list (make-char #\a (logior +shift+ +control+))</font></div><div><font face="Menlo" class="">&nbsp; &nbsp; &nbsp; (make-char #\a 0 +times+))</font></div><div><font face="Menlo" class=""><br class=""></font></div><div><font face="Menlo" class="">—&gt; (#S(attributed-char :character #\a :bits 3 :font 0)</font></div><div><font face="Menlo" class="">&nbsp; &nbsp; #S(attributed-char :character #\a :bits 0 :font 2))</font></div><div class=""><br class=""></div><div class="">then you will have to define attributed strings, and now to do I/O with them, etc, in conforming lisp, since the implementations won't support such attributed characters and strings. &nbsp;But this is expected, for an application that wants to deal with fonts and modifiers (or other bit attributes of characters).</div></div><div><br class=""></div><div><br class=""></div><blockquote type="cite" class=""><div class=""><div class="">Try (apropos "make-char") to see whether it is in some package and just not visible in cl-user<br class=""></div></div></blockquote></div><br class=""><div class="">
<div style="color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div style="color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div style="color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class="">--&nbsp;<br class="">__Pascal J. Bourguignon__</div><div style="color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><br class=""><br class=""><br class=""></div></div></div>
</div>
<br class=""></body></html>

                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Replacing make-char</h1><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div class="">Hi,</div><div class=""><br class=""></div>make-char and related were part of the early Common Lisp. It was provided to support existing uses of characters which had additional information like font infos - like on the Lisp Machine OS.<div class=""><br class=""></div><div class="">For the ANSI Common Lisp standard the idea of char-bits and char-fonts were removed. So the CLHS is new and differs from CLtL1. CLtL2 described the old standard AND the removal. The progression was CLtL1 -&gt; CLtL2 -&gt; ANSI CL standard.</div><div class=""><br class=""></div><div class="">This is explained here: &nbsp;Issue Character Proposal</div><div class=""><a href="http://www.lispworks.com/documentation/lw71/CLHS/Issues/iss026_w.htm" class="">http://www.lispworks.com/documentation/lw71/CLHS/Issues/iss026_w.htm</a></div><div class=""><br class=""></div><div class="">Thus ANSI CL standard conforming implementations removed these operators then, too.</div><div class=""><br class=""></div><div class="">There is basically nothing directly useful functionality to replace MAKE-CHAR with. If you have old code you want to adapt:</div><div class=""><br class=""></div><div class="">* either remove MAKE-CHAR and just use the character directly or provide a MAKE-CHAR which will do nothing but returning the character</div><div class=""><br class=""></div><div class="">* you might need to be able to deal with fonts and other things. But that depends on what your prior code did. If you have questions about it, you might need to post some code with example usage. Then one could see what exactly the old code did with MAKE-CHAR.</div><div class=""><br class=""></div><div class="">Regards</div><div class=""><br class=""></div><div class="">Rainer Joswig</div><div class=""><br class=""></div><div class=""><br class=""><div><br class=""><blockquote type="cite" class=""><div class="">Am 20.04.2019 um 03:48 schrieb Steven Githens &lt;<a href="mailto:steve@githens.org" class="">steve@githens.org</a>&gt;:</div><br class="Apple-interchange-newline"><div class=""><meta http-equiv="Content-Type" content="text/html; charset=utf-8" class=""><div style="word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class="">Hi all,<div class=""><br class=""></div><div class="">This is probably a basic question, but as I’m new to both lispworks, and mostly common-lisp, I could use a little guidance.</div><div class=""><br class=""></div><div class="">I’m upgrading an application that uses lispworks, and hasn’t been recompiled in like 5 years.</div><div class=""><br class=""></div><div class="">I’ve run across `make-char` in the code, which I see has been removed:&nbsp;</div><div class=""><a href="http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm" class="">http://www.lispworks.com/documentation/lw71/CLHS/Body/27_ac.htm</a></div><div class=""><br class=""></div><div class="">Since I’m still getting back up to speed with Lisp, it’s not immediately straight forward to me as to how to replace this usage, but I’m wondering if, for operators that have been removed from Lispworks, if there is usually some documentation on what they should be replaced with. &nbsp;In this case, `make-char`. &nbsp;:)</div><div class=""><br class=""></div><div class="">Thanks!</div><div class="">Steve</div></div></div></blockquote></div><br class=""></div></body></html>

                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:29 UTC
             </div>
            </footer>
           </body>
          </html>