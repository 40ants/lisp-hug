<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>accepting input in tree-view widgets</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>accepting input in tree-view widgets</h1>
                <pre>
Hello, list,

I am implementing an outliner, for my own amusement.  This is my first
CAPI project, and my first substantive GUI project of any kind.

I'm using an interface with a tree-view on one side and an editor-pane
on the other.  I'd like to have a keyboard shortcut to add a node to
the tree, and I'd like it to be (for example) "i".

I've tried many things, and none work to my satisfaction, and most not
at all:

  tree-view is not an output-pane and does not accept :input-model as
  an initarg.  I tried putting the tree-view inside a
  simple-pinboard-layout, and this did not work.  Apparently the
  input-model of the tree-view overrides the input-model of the
  simple-pinboard-layout, which makes sense, I suppose.

  I added a menu to the interface with "i" as the accelerator, but
  this makes the "i" key unusable in the editor-pane.  I added a
  pop-up menu to the tree-view with "i" as an accelerator, but that
  doesn't work.

  I created both a class and an interface that inherited from both
  output-pane and tree-view (though certainly defining a class and an
  interface should be more-or-less equivalent in this case, but I
  wasn't sure), and in both cases I got errors -- different errors
  depending on which came first in the superclass list.  If
  output-pane came first, I got

    No applicable methods for #&lt;STANDARD-GENERIC-FUNCTION
    PORT-GRAPHICS-STATE 2129806A&gt with args (NIL)

  If tree-view came first, I got

    The slot CAPI::INITARGS-FOR-IMPLEMENTATION is unbound in the
    object #&lt;TREE-WITH-INPUT TREE-PANE [-1 items] 22B10C0B&gt (an
    instance of class #&lt;CAPI::CAPI-CLASS TREE-WITH-INPUT 222C592F&gt).

  I even tried to hack the input-model of the pane-implementation of
  the tree-pane to include my callback, and it didn't work.  (I fact I
  set the input model to include *only* my callback, and it didn't
  work, which leads me to believe that I wasn't actually *succeeding*
  in setting the input model of the implementation pane, even though
  it appeared to work, even in the Inspector tool.)

Is there some obvious (or unobvious! :) way to do this that I'm
missing, or would I actually have to reimplement the entire tree-view
class?

Thanks for any help, clues, or even LARTs.

-- Larry


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: accepting input in tree-view widgets</h1>
                 <pre>
It would be convenient if tree-view were implemented as a pinboard.  
Have you considered using a graph-pane?

Mitch


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:42 UTC
             </div>
            </footer>
           </body>
          </html>