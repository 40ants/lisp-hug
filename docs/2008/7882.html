<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>LWW5 delivery level 5 problem</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>LWW5 delivery level 5 problem</h1>
                <pre>
Hello,

I'm having trouble getting any application delivered at delivery level
5. It works fine with up to level 4.
There must be something obviously wrong with what I'm doing, maybe
somebody can help. Here's the code:

--------------------------
;;;hello.lisp
(in-package "CL-USER")

(defun hello-world ()
  (capi:display-message "Hello World!"))

--------------------------
;;;deliver.lisp
(lw:load-all-patches)
(load (sys:example-file "c:/home/lisp/hello/hello"))

(deliver 'hello-world
         "hello"
         5
         :interface :capi
	 )

--------------------------
I create the image like so:
C:\Program Files\LispWorks&gtlispworks-5-0-0-x86-win32.exe -build
c:\home\lisp\hello\deliver.lisp

New console window gets opened where is printed lots of verbose information.
After a few seconds this window is closed and no executable file is
created - there is only one new file - hello.zaps (with a size about
140 KB).
Unfortunately I have not found a way how to save the text which is
outputted in delivery console window.
Using "Print Scrn" button I managed to grab the screenshot with the
following text in it:

--------------------------
 Generation 3:  Total Size 18263K, Allocated 5869K, Free 12385K

Total Size 26944K, Allocated 7835K, Free 18711K
Broke pointers from 1184 gfs

Number of symbols 8326 (keywords 1821 fbound 2989 bound 1324 uninterned 6977)


Number of classes 354

Error: #&lt;Unbound Marker&gt

Backtrace:
202694A8 21441D5F -&gt 21441D42 = #:DEBUG2
202694B4 2097CB29 -&gt 2097CA52 = #:DEBUG1
202694F4 2097C531 -&gt 2097C4C2 = #:INVOKE-DEBUGGER
2026951C 2097A9D6 -&gt 2097A872 = CONDITIONS::CONDITIONS-ERROR
2026953C 2017F51C -&gt 2017F3BA = #:WRITE-VECTOR
20269554 209BB1A7 -&gt 209BB14A = #:NEXT-METHOD-CALL-4
20269580 2075B313 -&gt 2075B2E2 = "Unknown"
202695AC 20190DDB -&gt 20190D92 = #:WRITE-SEQUENCE
202695C0 214BCB2F -&gt 214BCA32 = "Unknown"
202695FC 207FA1C6 -&gt 207FA062 = #:MAPHASH
2026963C 214BC84F -&gt 214BC7E2 = #:REPLACE-DYNAMIC-SYMBOL-CALLS
20269694 214CE868 -&gt 214CDE22 = DELIVERY::DELIVER-SHAKE
--------------------------

(Last lines could be missing from there)

I can include the hello.zaps file if needed. I'm using lispworks 5.0.2
on Windows XP SP 2.

Any help would be appreciated. Thanks!

Lauri


</pre>
               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:40 UTC
             </div>
            </footer>
           </body>
          </html>