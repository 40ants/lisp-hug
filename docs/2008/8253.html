<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>LispWorks VIRT and RES memory size</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>LispWorks VIRT and RES memory size</h1>
                <pre>

I have an app that over the course of a day or so, grows to have a
Virtual Image size (VIRT as reported by top on Linux) of 4 GB.  The
Resident size (RES) stabilizes around 150 MB.

This doesn't occur with my other apps.  Anyone have any idea why this
might be?

In practice, the app rarley grows to 4GB.  It usually encounters some
GC problem before then and becomes unresponsive.  (At least it seems
like a GC problem, not really sure :))

For those interested, at the 637m/126m point here's what room says:

 &gt Generation 7 allocated 33386600
 &gt Generation 6 allocated 0
 &gt Generation 5 allocated 0
 &gt Generation 4 allocated 0
 &gt Generation 3 allocated 53782624
 &gt Generation 2 allocated 111635488
 &gt Generation 1 allocated 175784
 &gt Generation 0 allocated 4456296

 Total allocation 203436792 (0xC2032F8), total size 352727040 (0x15063000) 

Cheers,
Chris Dean


</pre>
               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:42 UTC
             </div>
            </footer>
           </body>
          </html>