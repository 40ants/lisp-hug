<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Fasl file encoding?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Fasl file encoding?</h1>
                <pre>
Hi,

I have the following question regarding character encoding in fasl  
files (LWM Personal 5.0.2 on Intel).

The following function returns a string with some Central-European  
characters (I hope you can see the correct characters in the mail):

(defun test ()
   "Netřeba přenášeti tetřeva")

If I define this function in the Listener, then it behaves correctly:

CL-USER 6 &gt (test)
"Netřeba přenášeti tetřeva"

I observe the same correct behavior if I put this definition in a  
separate Editor buffer and evaluate it (for example using F7 or F8  
keys). However, if this definition is stored in a compiled file and  
loaded, then the encoding of result is not correct:

CL-USER 7 &gt (test)
"NetÅeba pÅenÃ¡Å¡eti tetÅeva"

Is this a bug or what?

In the case it matters, I use the UTF-8 encoding for my source files  
(I achieved this by editing hidden Editor Config files by hand)  
because no encoding offered by LWM Editor File Encodings preference  
pane can be used for Central-European characters, at least AFAIK. I  
wonder why Unicode encodings are not available for users in the  
preference pane.

Thanks,

Michal

</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Fasl file encoding?</h1>
                 <pre>

On Mar 30, 2008, at 8:22 AM, Michal Krupka wrote:

&gt CL-USER 6 &gt (test)
&gt "Netřeba přenášeti tetřeva"
&gt
&gt I observe the same correct behavior if I put this definition in a  
&gt separate Editor buffer and evaluate it (for example using F7 or F8  
&gt keys). However, if this definition is stored in a compiled file and  
&gt loaded, then the encoding of result is not correct:
&gt
&gt CL-USER 7 &gt (test)
&gt "NetÅeba pÅenÃ¡Å¡eti tetÅeva"
&gt
&gt Is this a bug or what?
&gt
&gt In the case it matters, I use the UTF-8 encoding for my source files  
&gt (I achieved this by editing hidden Editor Config files by hand)  
&gt because no encoding offered by LWM Editor File Encodings preference  
&gt pane can be used for Central-European characters, at least AFAIK. I  
&gt wonder why Unicode encodings are not available for users in the  
&gt preference pane.


Try adding a mode lone at the top of your source files, e.g.

;; -*- mode: lisp; encoding: utf-8; -*-



John DeSoi, Ph.D.





</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:40 UTC
             </div>
            </footer>
           </body>
          </html>