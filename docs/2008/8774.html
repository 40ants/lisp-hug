<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Delivery and packages</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Delivery and packages</h1>
                <pre>
I am confused about how the package of my application affects delivery. 
Do I have to do anything special to deliver if my system is in a package 
of mine instead of cl-user? If I don't change to the package before 
calling deliver, deliver fails because it cannot find my function.

Here is one of the deliver.lisp files I have tried:

(in-package "CL-USER")
(load-all-patches)
(compile-file "foo" :load t)
(deliver 'foo-fn
          "d:/foo"
          0
          :interface :capi
          :keep-complex-numbers nil)

The deliver log has "++++ Error between functions: Package FOO not found"

Mitch


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Delivery and packages</h1>
                 <pre>
If I use asdf to build a system, I assume that I will have to load asdf 
in the deliver file. Is that right (or is there an alternative?) and  
does it imply that asdf functions will be included in the delivered 
executable?


Mitch


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:41 UTC
             </div>
            </footer>
           </body>
          </html>