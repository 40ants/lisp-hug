<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>CAPI interface titlebar obscured by random junk - any thoughts?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>CAPI interface titlebar obscured by random junk - any thoughts?</h1>
                <pre>The attached image is a section taken from a screendump sent to us by
one of our users. They were running an LWW 6.0.1 delivered application
on XP (SP3). Behind the window of interest you can see parts of a
notepad (top left), a CAPI window (left) and the desktop (top right).

The window at the front is another CAPI interface which contains a
pinboard-layout(*). Here for the record is the pinboard's display
callback:

(defun graph-pinboard-display-callback (pinboard x y width height)
   (when-let (pixmap (ensure-pinboard-pixmap pinboard))
     (let ((pixmap-x (- x (capi:get-horizontal-scroll-parameters 
pinboard :slug-position)))
           (pixmap-y (- y (capi:get-vertical-scroll-parameters pinboard 
:slug-position))))
       (gp:pixblt pinboard boole-1 pixmap x y width height pixmap-x 
pixmap-y))))

The interface should have a titlebar and a menubar. In the attached
image you'll see both have been obscured with junk from the pinboard
(or maybe its pixmap, they look the same). This phenomenon may be
associated with resizing. It goes away after a few seconds, or on
re-expose events.

I can't begin to imagine what you'd have to do, to overwrite a
titlebar with "random" pixels. Does anyone have any experience of
anything like this?

Thanks,

- nick


* To be precise: the interface contains a switchable-layout, one of
whose children is a simple-pane -- we use this when we want to grey
out the display -- and the other is the pinboard-layout.


</pre>
               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:34 UTC
             </div>
            </footer>
           </body>
          </html>