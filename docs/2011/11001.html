<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>(Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>(Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                <pre>
Greetings to the list...

I am having a spot of bother getting a delivered CLSQL-based 
application to work...

As usual, things work perfectly until delivered - and then Zap, the 
application crow-bars inside CLSQL. Windows XP, LispWorks 5.1 32-bit.

I have tried setting the delivery options to their least settings to 
remove no packages, shaking no symbols, etc - in short, no 
optimization at all, and still Zap.

Question:  Are there any known gotchas for delivering CLSQL-based 
code?  Anything that I should be aware of?

Question:  I notice an odd :EXE-FILE delivery option that claims to 
be "for experts only" in the documentation with no other comments. 
Does anyone know what that might be?? I am scrounging around for 
different delivery options to tweak.

I appreciate any help.

Regards,

Jack Harper
Secure Outcomes Inc
Evergreen, Colorado USA





</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                 <pre>
Jack,

&gt I am having a spot of bother getting a delivered CLSQL-based application to work...
&gt 
&gt As usual, things work perfectly until delivered - and then Zap, the application crow-bars inside CLSQL. Windows XP, LispWorks 5.1 32-bit.
&gt 
&gt I have tried setting the delivery options to their least settings to remove no packages, shaking no symbols, etc - in short, no optimization at all, and still Zap.

You'll want to make sure the external library for sqlite3 is being included.  IIRC, it (along with the appropriate mscrvt) has been installed manually in c:/windows/system32 on your development machines -- which is the reason everything works fine in development.  Get the libraries installed on your staging and target machine(s) and you should be all set.

Btw, congratulations are probably in order if you've gotten this far :-)

-Michael


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                 <pre>
And the :exe-file option is not for you, it's more like a internal option for LispWorks itself.

&gt 
&gt Greetings to the list...
&gt 
&gt I am having a spot of bother getting a delivered CLSQL-based application to work...
&gt 
&gt As usual, things work perfectly until delivered - and then Zap, the application crow-bars inside CLSQL. Windows XP, LispWorks 5.1 32-bit.
&gt 
&gt I have tried setting the delivery options to their least settings to remove no packages, shaking no symbols, etc - in short, no optimization at all, and still Zap.
&gt 
&gt Question:  Are there any known gotchas for delivering CLSQL-based code?  Anything that I should be aware of?
&gt 
&gt Question:  I notice an odd :EXE-FILE delivery option that claims to be "for experts only" in the documentation with no other comments. Does anyone know what that might be?? I am scrounging around for different delivery options to tweak.
&gt 
&gt I appreciate any help.
&gt 
&gt Regards,
&gt 
&gt Jack Harper
&gt Secure Outcomes Inc
&gt Evergreen, Colorado USA
&gt 
&gt 
&gt 
&gt 


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                 <pre>
Hello All,

On Fri, May 13, 2011 at 8:35 PM, Michael Bentley
&lt;michael@stray-hound.com&gt wrote:
&gt
&gt Jack,
&gt
&gt&gt I am having a spot of bother getting a delivered CLSQL-based application to work...
&gt&gt
&gt&gt As usual, things work perfectly until delivered - and then Zap, the application crow-bars inside CLSQL. Windows XP, LispWorks 5.1 32-bit.
&gt&gt
&gt&gt I have tried setting the delivery options to their least settings to remove no packages, shaking no symbols, etc - in short, no optimization at all, and still Zap.
&gt
&gt You'll want to make sure the external library for sqlite3 is being included. &nbsp;IIRC, it (along with the appropriate mscrvt) has been installed manually in c:/windows/system32 on your development machines -- which is the reason everything works fine in development. &nbsp;Get the libraries installed on your staging and target machine(s) and you should be all set.
&gt
&gt Btw, congratulations are probably in order if you've gotten this far :-)
&gt
&gt -Michael
&gt
&gt

He should be able to verify if the issue is with missing SQLite
libraries using something like DependencyWalker, to rule out any other
issues, no? I don't do much development on Windows, but there must be
some equivalent to ldd that can be run to check for this sort of
issue.

Oh, and I agree with Micahel, congratulations are most definitely in order.

Cheers,
 -- S.

-- 
====
Q. How many Prolog programmers does it take to change a lightbulb?
A. No.


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                 <pre>
Jack Harper wrote on Fri, 13 May 2011 16:51:57 -0600 02:51:

| I am having a spot of bother getting a delivered CLSQL-based
| application to work...
| 
| As usual, things work perfectly until delivered - and then Zap, the
| application crow-bars inside CLSQL. Windows XP, LispWorks 5.1 32-bit.
| 
| I have tried setting the delivery options to their least settings to
| remove no packages, shaking no symbols, etc - in short, no
| optimization at all, and still Zap.
| 
| Question:  Are there any known gotchas for delivering CLSQL-based
| code?  Anything that I should be aware of?

I cannot speak for CLSQL but I used to deliver EXE-files with YstokSQL,
a similar library talking over ODBC.

You should definitely keep all the symbols representing SQL keywords, table
and column names etc. The names of those symbols must also be kept and not
mangled (the default on delivery level 5).

Moreover, you need one of
  :classes-to-keep-effective-slots or
  :metaclasses-to-keep-effective-slots
for SQL-expression classes.

Also at least :keep-clos :no-dynamic-definition.
--
HTH,
Dmitriy Ivanov
lisp.ystok.ru


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Fwd: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                 <pre>
No. 2


---------- Forwarded message ----------
From: Edi Weitz &lt;edi@weitz.de&gt
Date: Sat, May 14, 2011 at 10:21 AM
Subject: Re: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)
To: Jack Harper &lt;jharper@frobenius.com&gt
Cc: lisp-hug@lispworks.com


On Sat, May 14, 2011 at 10:17 AM, Edi Weitz &lt;edi@weitz.de&gt wrote:

&gt One more thing: There's some kind of "UFFI" DLL which is distributed
&gt which CLSQL. &nbsp;This C lib has to be in the right place on the target
&gt machine as well, of course, in addition to whichever DB libs (SQLite,
&gt PostgreSQL, ...) you're using.

Oh, wait! &nbsp;I seem to recall now (it's been a while) that CLSQL (or
rather UFFI) has a somewhat strange way of locating the C libs which
doesn't lend itself well to delivery because I think it hard-codes the
location(s) from the development machine into the EXE. &nbsp;This can be a
problem if your libs aren't in standard locations or if you want to
put them into the same folder as the EXE file for ease of
distribution. &nbsp;I think I patched my local UFFI copy to get around
this. &nbsp;I have to run now and will be out of town until Monday, but if
you need help with this, let me know and I can see if I can dig this
up.

Edi.


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: (Lisp-HUG) :Exe-File Delivery Option ( also CLSQL)</h1>
                 <pre>
Thanks to Ala'a, Art, Chun Tian, Dmitriy, Edi, Michael, and Sztefan 
for the comments on delivering CLSQL-based code.

I appreciate it and will report back to the List once the thing is resolved.

Regards to the List.

Jack Harper
Secure Outcomes Inc
Evergreen, Colorado USA

ps - Sorry for the delay in responding - I was out of town over the weekend.



</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:37 UTC
             </div>
            </footer>
           </body>
          </html>