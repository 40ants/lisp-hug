<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Re: Macro context (continued)</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Re: Macro context (continued)</h1>
                <pre>

(defmacro debug-context (var &amp;body body)
  `(when (and (boundp (quote ,var))
              ,var)
     ,@body))


Best,
 Art


--- On Mon, 7/11/11, Erik Ronström &lt;erik.ronstrom@doremir.com&gt wrote:


Now we've been talking about debug logging, but imagining another context where performance was important, it would be very nice to have the expansion to be evaluated at compile time, so that

(debug-context *test1*&nbsp;&nbsp;(debug-log "Log message"))

would expand to

(when *test1* (do-some-logging "Log message"))

Of course, *test1* is still evauated at run time, but the expansion is made at compile time.&nbsp;Is this possible in CL?
RegardsErik


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Macro context (continued)</h1>
                 <pre>
Hi, Art!

Your macro is just doing something else.

On Mon, Jul 11, 2011 at 5:30 PM, Art Obrezan &lt;artobrezan@yahoo.com&gt wrote:
&gt
&gt
&gt (defmacro debug-context (var &amp;body body)
&gt &nbsp;`(when (and (boundp (quote ,var))
&gt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;,var)
&gt &nbsp; &nbsp; ,@body))
&gt
&gt
&gt Best,
&gt &nbsp;Art
&gt
&gt
&gt --- On Mon, 7/11/11, Erik Ronström &lt;erik.ronstrom@doremir.com&gt wrote:
&gt
&gt
&gt Now we've been talking about debug logging, but imagining another context where performance was important, it would be very nice to have the expansion to be evaluated at compile time, so that
&gt
&gt (debug-context *test1*&nbsp;&nbsp;(debug-log "Log message"))
&gt
&gt would expand to
&gt
&gt (when *test1* (do-some-logging "Log message"))
&gt
&gt Of course, *test1* is still evauated at run time, but the expansion is made at compile time.&nbsp;Is this possible in CL?
&gt RegardsErik
&gt
&gt



-- 
&nbsp;&nbsp; Павел Анохин


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:37 UTC
             </div>
            </footer>
           </body>
          </html>