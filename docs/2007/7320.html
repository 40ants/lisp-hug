<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Quadratic interfaces</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Quadratic interfaces</h1>
                <pre>
Is there a way to force an interface to be always quadratic even if
the user resizes it?  (I think I've seen something like that in apps
like Photoshop.)

FWIW, in my case this is a very simple interface where the only pane
is an output pane.  A Windows-only solution would be fine.

Thanks,
Edi.


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Quadratic interfaces</h1><html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">
Hi Edi,<div><br class="webkit-block-placeholder"></div><div>I faced these very problems quite recently in our MMWSim. I haven't had the chance to review your code submission yet, but as far as the "stretching windows" interface goes, I found that the way to control it is to plant a dummy object in the pinboard display list whose rectangle occupies the far corner of the window size you want to achieve. That dummy item will never be drawn on screen, but the pinboard manager doesn't know that, and so it will resize the window to accommodate that most extreme element.</div><div><br class="webkit-block-placeholder"></div><div><div> <span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">David McClain</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Chief Technical Officer</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Refined Audiometrics Laboratory</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">4391 N. Camino Ferreo</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Tucson, AZ  85750</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font: normal normal normal 12px/normal Helvetica; min-height: 14px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">email: <a href="mailto:dbm@refined-audiometrics.com">dbm@refined-audiometrics.com</a></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">phone: 1.520.390.3995</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">web: <a href="http://refined-audiometrics.com">http://refined-audiometrics.com</a></div><br class="Apple-interchange-newline"></span><span></span></span></span></span></span> </div><br><div><div>On Dec 18, 2007, at 22:25, Edi Weitz wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Is there a way to force an interface to be always quadratic even if</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">the user resizes it?<span class="Apple-converted-space">  </span>(I think I've seen something like that in apps</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">like Photoshop.)</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">FWIW, in my case this is a very simple interface where the only pane</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">is an output pane.<span class="Apple-converted-space">  </span>A Windows-only solution would be fine.</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Thanks,</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Edi.</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div> </blockquote></div><br></div></body></html>

                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Quadratic interfaces</h1>
                 <pre>

Edi Weitz wrote:
&gt Is there a way to force an interface to be always quadratic even if
&gt the user resizes it?

So that I can follow along when there are answers, could you explain 
what a quadratic interface is?

Mitch


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Quadratic interfaces</h1>
                 <pre>
Hello,

I use this to force an interface to keep a certain aspect ratio (for
instance 16/9 for some QT movies). Here is a simplified version to get the
aspect quadratic. This method avoid the problem of recursivity by the use of
capi:set-hint-table rather than geometry-change-callback. I'm not sure it's
the best way, but it works just fine for me.

Best

Denis


(defclass quadratic-interface (capi:interface) ((previous-size :initform
nil))))

(defvar *min-size* 120)

(defmethod geometry-change-callback ((self quadratic-interface) x y w h)
 (let ((prev (slot-value self 'previous-size))
       (pane (car (capi:layout-description (capi:pane-layout self)))))
    ;to avoid resizing when the pane is simply moved
     (when (or (not prev) (/= (car prev) w) (/= (cdr prev) h))
       (capi:with-geometry pane
         (capi:set-hint-table pane (list :visible-min-width (max *min-size*
capi:%height%) :visible-max-width t))))
     (setf (slot-value self 'previous-size) (cons w h))))



(capi:display (make-instance 'quadratic-interface :best-width *min-size*
:best-height *min-size*
                             :geometry-change-callback
'geometry-change-callback
                             :layout
                             (make-instance 'capi:simple-layout
:visible-min-height *min-size*
                                            :child (make-instance
'capi:simple-pane))))


Le 19/12/07 6:25, «&nbsp;[NOM]&nbsp;» &lt;[ADRESSE]&gt a écrit&nbsp;:

&gt 
&gt Is there a way to force an interface to be always quadratic even if
&gt the user resizes it?  (I think I've seen something like that in apps
&gt like Photoshop.)
&gt 
&gt FWIW, in my case this is a very simple interface where the only pane
&gt is an output pane.  A Windows-only solution would be fine.
&gt 
&gt Thanks,
&gt Edi.
&gt 

-------------------------------------------------------
Denis Pousseur
70 rue de Wansijn
1180 Bruxelles, Belgique

Tel : 32 (0)2 219 31 09
Mail :  denis.pousseur@gmail.com
-------------------------------------------------------



</pre>
                </article>
                <section class=tree>
                 <article class=email>
                  <h1>Re: Quadratic interfaces</h1>
                  <pre>
On Wed, 19 Dec 2007 16:25:58 +0100, Denis Pousseur &lt;denis.pousseur@gmail.com&gt wrote:

&gt I use this to force an interface to keep a certain aspect ratio (for
&gt instance 16/9 for some QT movies). Here is a simplified version to
&gt get the aspect quadratic. This method avoid the problem of
&gt recursivity by the use of capi:set-hint-table rather than
&gt geometry-change-callback. I'm not sure it's the best way, but it
&gt works just fine for me.

Yes, that works fine for me as well.  Thanks.  It also avoids the
jitter I saw with other solutions.  (Although, to be fair, the jitter
might have been due to the output pane and not due to the actual
resizing solution.)

But I had to change 

  (max *min-size* capi:%height%)

to

  (max *min-size* (or capi:%height% 0))

because otherwise the interface wouldn't even display for me.  It
seems the first time the geometry change callback is called, the
height is still undefined (at least on Windows).


</pre>
                 </article>
                </section>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:44 UTC
             </div>
            </footer>
           </body>
          </html>