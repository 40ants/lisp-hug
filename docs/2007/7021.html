<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Pinboard Flashing?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Pinboard Flashing?</h1><HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; ">Ughhh.... The flashing with CAPI pinboard updates is almost intolerable on Win/XP.<DIV><BR class="khtml-block-placeholder"></DIV><DIV>I have tried several approaches...</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>1. Use :draw-pinboard-objects :BUFFER  -- that causes tons of transient mouse droppings as the buffering appears to try to perform updates on a non-interfering, best effort, basis. Dragging large regions of graphics about on the screen causes the updates to abort partway through until the dragging ceases, and then it can catch up. Result is slowly vanishing trails of partial rewrites of old images along the drag path. NG.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>2. Use :draw-pinboard-objects T -- no buffering. Horrible, and very slow.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>3. Use :draw-pinboard-objects T with my own offscreen buffering in a pixmap port, and writing my own display callback to blit the results to the screen. That performs best of all, very rapid, but the final problem outstanding is that CAPI insists on clearing the screen over the damaged rectangles accumulated from invalidate calls, before it permits me to blit pixels from my backing store to the screen port.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Option 3 appears best of all, but does anyone know how to prevent CAPI from performing gratuitous screen clears ahead of the call to the display callback?</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I could write my own invalidate routines to do the bookkeeping on what regions need updating. Perhaps the only solution is to do this, and to call gp:invalidate-rectangle on some region out of sight so that no flashing occurs? Not sure yet, whether CAPI would honor a damage update anywhere outside of the visible portrect.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Anyone??</DIV><DIV><BR><DIV> <SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">David McClain</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Chief Technical Officer</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Refined Audiometrics Laboratory</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">4391 N. Camino Ferreo</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Tucson, AZ  85750</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font: normal normal normal 12px/normal Helvetica; min-height: 14px; "><BR></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">email: <A href="mailto:dbm@refined-audiometrics.com">dbm@refined-audiometrics.com</A></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">phone: 1.520.390.3995</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">web: <A href="http://www.refined-audiometrics.com">http://www.refined-audiometrics.com</A></DIV><BR class="Apple-interchange-newline"></SPAN><SPAN></SPAN></SPAN></SPAN></SPAN></SPAN> </DIV><BR></DIV></BODY></HTML>

               </article>
               <section class=tree>
                <article class=email>
                 <h1>RE: Pinboard Flashing?</h1>
                 <pre>
&gt From: owner-lisp-hug@lispworks.com
[mailto:owner-lisp-hug@lispworks.com] On Behalf Of David McClain
&gt Sent: 08 October 2007 07:30
&gt To: Lisp Hug Lispworks
&gt Subject: Pinboard Flashing?
&gt 
&gt Ughhh.... The flashing with CAPI pinboard updates is almost
&gt intolerable on Win/XP. 
&gt 
&gt I have tried several approaches...


Maybe this will help...

I used to have flashing pinboards until I changed my pinboard
object updaters to only call the CAPI updaters (such as
(SETF CAPI:PINBOARD-PANE-POSITION), (SETF CAPI:PINBOARD-PANE-SIZE)
and (SETF CAPI:MOVE-LINE)) when the new values are different to
the new values.

I have no mention of :DRAW-PINBOARD-OBJECTS in my code.


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Pinboard Flashing?</h1>
                 <p>
                  Unable to parse email body. Email id is 7023
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:41 UTC
             </div>
            </footer>
           </body>
          </html>