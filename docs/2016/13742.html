<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>LISP in robotics application</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>LISP in robotics application</h1><div dir="ltr"><div class="gmail_default" style="font-size:small"><div class="gmail_default">Hello all.</div><div class="gmail_default"><br></div><div class="gmail_default">This is my first post though I&#39;ve been following for several years. </div><div class="gmail_default">I have a question regarding running several servo motors at the same time from within LISP.</div><div class="gmail_default"><br></div><div class="gmail_default">Basically I already have an interface between the actual servo motors and my LISP based program and with this I can command a servo to move to a specific position.</div><div class="gmail_default"><br></div><div class="gmail_default">The command looks like:  (servo-move num pos)  where num is the number of the servo and pos is the relative position, both digits.</div><div class="gmail_default"><br></div><div class="gmail_default">What I want to do is have more than one servo move at the same time.  Is this possible and how can it be programmed?</div><div class="gmail_default"><br></div><div class="gmail_default">Thanks</div><div class="" style="margin:2px 0px 0px;font-size:12.8px"><div id=":1k8" class="" tabindex="0"><img class="" src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div></div></div></div>


               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: LISP in robotics application</h1><div dir="ltr">Hi,<div><br></div><div>You didn&#39;t say it, but I gather that the servo-move function is blocking - it only returns after the motor has ceased to move, more or less. Is that right? Otherwise, you could just call servo-move multiple times and be done with it.</div><div><br></div><div>To perform multiple operations in parallel one often resorts to using threads, directly or behind some abstraction layer. The topic is vast and complex and I don&#39;t know where you are starting from. However, at a minimum you should make sure (e.g. by reading documentation) that the servo-move function can indeed be called by multiple execution threads or &quot;processes&quot; as they are often called in Lisp systems.</div><div><br></div><div>Cheers,</div><div>Alessio</div></div><div class="gmail_extra"><br><div class="gmail_quote">On 1 April 2016 at 13:50, Robert Zeiler <span dir="ltr">&lt;<a href="mailto:rezeiler1970@gmail.com" target="_blank">rezeiler1970@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div class="gmail_default" style="font-size:small"><div class="gmail_default">Hello all.</div><div class="gmail_default"><br></div><div class="gmail_default">This is my first post though I&#39;ve been following for several years. </div><div class="gmail_default">I have a question regarding running several servo motors at the same time from within LISP.</div><div class="gmail_default"><br></div><div class="gmail_default">Basically I already have an interface between the actual servo motors and my LISP based program and with this I can command a servo to move to a specific position.</div><div class="gmail_default"><br></div><div class="gmail_default">The command looks like:  (servo-move num pos)  where num is the number of the servo and pos is the relative position, both digits.</div><div class="gmail_default"><br></div><div class="gmail_default">What I want to do is have more than one servo move at the same time.  Is this possible and how can it be programmed?</div><div class="gmail_default"><br></div><div class="gmail_default">Thanks</div><div style="margin:2px 0px 0px;font-size:12.8px"><div><img src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div></div></div></div>
</blockquote></div><br></div>


                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Fwd: LISP in robotics application</h1><div dir="ltr"><div class="gmail_default" style="font-size:small"><br></div><div class="gmail_quote">---------- Forwarded message ----------<br>From: <b class="gmail_sendername">Alessio Stalla</b> <span dir="ltr">&lt;<a href="mailto:alessiostalla@gmail.com">alessiostalla@gmail.com</a>&gt;</span><br>Date: Fri, Apr 1, 2016 at 8:30 AM<br>Subject: Re: LISP in robotics application<br>To: Robert Zeiler &lt;<a href="mailto:rezeiler1970@gmail.com">rezeiler1970@gmail.com</a>&gt;<br><br><br><div dir="ltr">You replied to me alone, if you reply to the mailing list we can continue there and other people can chime in ;)</div><div class="HOEnZb"><div class="h5"><div class="gmail_extra"><br><div class="gmail_quote">On 1 April 2016 at 14:23, Robert Zeiler <span dir="ltr">&lt;<a href="mailto:rezeiler1970@gmail.com" target="_blank">rezeiler1970@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div style="font-size:small">Thanks for the reply.</div><div style="font-size:small"><br></div><div style="font-size:small">The function is not blocked and works fine for individual servos.  </div><div style="font-size:small">To be more specific by example perhaps I can routinely use the following:</div><div style="font-size:small"><br></div><div style="font-size:small">(servo-move 47 1500)</div><div style="font-size:small">(servo-move 48 1350)</div><div style="font-size:small"><br></div><div style="font-size:small">The first will move servo 47 to position 1500 and the second moves servo 48 to position 1350.</div><div style="font-size:small">It works fine but in sequence.  In other words, servo 47 moves first and then 48.</div><div style="font-size:small"><br></div><div style="font-size:small">I would like to move both servos at the same time to their respective positions.  </div><div style="font-size:small"><br></div><div style="font-size:small">Also, I am a relative beginner at LISP.</div></div><div><div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Apr 1, 2016 at 8:08 AM, Alessio Stalla <span dir="ltr">&lt;<a href="mailto:alessiostalla@gmail.com" target="_blank">alessiostalla@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi,<div><br></div><div>You didn&#39;t say it, but I gather that the servo-move function is blocking - it only returns after the motor has ceased to move, more or less. Is that right? Otherwise, you could just call servo-move multiple times and be done with it.</div><div><br></div><div>To perform multiple operations in parallel one often resorts to using threads, directly or behind some abstraction layer. The topic is vast and complex and I don&#39;t know where you are starting from. However, at a minimum you should make sure (e.g. by reading documentation) that the servo-move function can indeed be called by multiple execution threads or &quot;processes&quot; as they are often called in Lisp systems.</div><div><br></div><div>Cheers,</div><div>Alessio</div></div><div><div><div class="gmail_extra"><br><div class="gmail_quote">On 1 April 2016 at 13:50, Robert Zeiler <span dir="ltr">&lt;<a href="mailto:rezeiler1970@gmail.com" target="_blank">rezeiler1970@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div style="font-size:small"><div>Hello all.</div><div><br></div><div>This is my first post though I&#39;ve been following for several years. </div><div>I have a question regarding running several servo motors at the same time from within LISP.</div><div><br></div><div>Basically I already have an interface between the actual servo motors and my LISP based program and with this I can command a servo to move to a specific position.</div><div><br></div><div>The command looks like:  (servo-move num pos)  where num is the number of the servo and pos is the relative position, both digits.</div><div><br></div><div>What I want to do is have more than one servo move at the same time.  Is this possible and how can it be programmed?</div><div><br></div><div>Thanks</div><div style="margin:2px 0px 0px;font-size:12.8px"><div><img src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div></div></div></div>
</blockquote></div><br></div>
</div></div></blockquote></div><br></div>
</div></div></blockquote></div><br></div>
</div></div></div><br></div>


                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: LISP in robotics application</h1><div dir="ltr">Robert,<div><br></div><div>Do you have the source code for the function the moves a single servo?</div><div><br></div><div>You might have to write a higher-level wrapper that takes a list of servo parameters then loops around each one, actuating one degree at a time or whatever the step unit is for your setup. As each servo reaches its target position, remove it from the list. Rinse repeat until the target list is empty because all servos are parked.</div><div><br></div><div>This means that for a while you&#39;d have parallel servo operation but as they arrive at their end positions they&#39;d drop out if you see what I mean.</div><div><br></div><div>Maybe that helped, maybe it didn&#39;t!</div><div><br></div><div>Sean.</div></div><div class="gmail_extra"><br><div class="gmail_quote">On 1 April 2016 at 12:50, Robert Zeiler <span dir="ltr">&lt;<a href="mailto:rezeiler1970@gmail.com" target="_blank">rezeiler1970@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div class="gmail_default" style="font-size:small"><div class="gmail_default">Hello all.</div><div class="gmail_default"><br></div><div class="gmail_default">This is my first post though I&#39;ve been following for several years. </div><div class="gmail_default">I have a question regarding running several servo motors at the same time from within LISP.</div><div class="gmail_default"><br></div><div class="gmail_default">Basically I already have an interface between the actual servo motors and my LISP based program and with this I can command a servo to move to a specific position.</div><div class="gmail_default"><br></div><div class="gmail_default">The command looks like:  (servo-move num pos)  where num is the number of the servo and pos is the relative position, both digits.</div><div class="gmail_default"><br></div><div class="gmail_default">What I want to do is have more than one servo move at the same time.  Is this possible and how can it be programmed?</div><div class="gmail_default"><br></div><div class="gmail_default">Thanks</div><div style="margin:2px 0px 0px;font-size:12.8px"><div><img src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div></div></div></div>
</blockquote></div><br></div>


                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: LISP in robotics application</h1><html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  </head>
  <body bgcolor="#FFFFFF" text="#000000">
    Hello Robert,<br>
    <br>
    For processes that block, and/or processes that you want to run
    independent of each other, multi-threading is indeed your
    mechanism.  I believe David McClain had made a library of handy
    functions public, of which reppy-channels was a particularly useful
    abstraction of multi-thread functionality.  Perhaps it would be good
    to re-publish the link to the library if it's still available. 
    Dave?<br>
    <br>
    Ray Laning<br>
    <br>
    <div class="moz-cite-prefix">On 4/1/2016 7:50 AM, Robert Zeiler
      wrote:<br>
    </div>
    <blockquote
cite="mid:CAEpDUR9bAmC4QOAoH87mYxs_iUTebxnkE=L_qi8goRaCDvnwtQ@mail.gmail.com"
      type="cite">
      <div dir="ltr">
        <div class="gmail_default" style="font-size:small">
          <div class="gmail_default">Hello all.</div>
          <div class="gmail_default"><br>
          </div>
          <div class="gmail_default">This is my first post though I've
            been following for several years. </div>
          <div class="gmail_default">I have a question regarding running
            several servo motors at the same time from within LISP.</div>
          <div class="gmail_default"><br>
          </div>
          <div class="gmail_default">Basically I already have an
            interface between the actual servo motors and my LISP based
            program and with this I can command a servo to move to a
            specific position.</div>
          <div class="gmail_default"><br>
          </div>
          <div class="gmail_default">The command looks like:
             (servo-move num pos)  where num is the number of the servo
            and pos is the relative position, both digits.</div>
          <div class="gmail_default"><br>
          </div>
          <div class="gmail_default">What I want to do is have more than
            one servo move at the same time.  Is this possible and how
            can it be programmed?</div>
          <div class="gmail_default"><br>
          </div>
          <div class="gmail_default">Thanks</div>
          <div class="" style="margin:2px 0px 0px;font-size:12.8px">
            <div id=":1k8" class="" tabindex="0"><img
                moz-do-not-send="true" class=""
                src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  <br />
<table style="border-top: 1px solid #aaabb6;">
	<tr>
      <td style="width: 55px; padding-top: 18px;"><a href="https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient&utm_term=oa-2115-v2-b" target="_blank"><img src="https://ipmcdn.avast.com/images/2016/icons/icon-envelope-tick-round-orange-v1.png" /></a></td>
		<td style="width: 470px; padding-top: 20px; color: #41424e; font-size: 13px; font-family: Arial, Helvetica, sans-serif; line-height: 18px;">Virus-free. <a href="https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=emailclient&utm_term=oa-2115-v2-b" target="_blank" style="color: #4453ea;">www.avast..com</a>
		</td>
	</tr>
</table></body>
</html>


                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: LISP in robotics application</h1><div dir="ltr"><br><div class="gmail_extra"><br><div class="gmail_quote">On 1 April 2016 at 14:23, Robert Zeiler <span dir="ltr">&lt;<a href="mailto:rezeiler1970@gmail.com" target="_blank">rezeiler1970@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr"><div style="font-size:small">Thanks for the reply.</div><div style="font-size:small"><br></div><div style="font-size:small">The function is not blocked and works fine for individual servos.  </div><div style="font-size:small">To be more specific by example perhaps I can routinely use the following:</div><div style="font-size:small"><br></div><div style="font-size:small">(servo-move 47 1500)</div><div style="font-size:small">(servo-move 48 1350)</div><div style="font-size:small"><br></div><div style="font-size:small">The first will move servo 47 to position 1500 and the second moves servo 48 to position 1350.</div><div style="font-size:small">It works fine but in sequence.  In other words, servo 47 moves first and then 48.</div></div></blockquote><div><br></div><div>That means that the function is blocking. It only returns control to the calling thread when the move operation is completed, therefore that thread cannot be reused to perform other operations while servo-move is executing, be it calling servo-move or doing other things.</div><div>By contrast, a non-blocking function would return control almost immediately, leaving the motor moving in the background while the execution thread can happily continue executing other code.</div><div> </div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0..8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr"><div style="font-size:small">I would like to move both servos at the same time to their respective positions.  <br></div></div></blockquote><div><br></div><div>If servo-move can be called concurrently from multiple threads (what does its documentation say? What library is it part of?) then you can call it on multiple threads, for example using lparallel as proposed. But if you&#39;re new to Lisp, particularly if you haven&#39;t set up ASDF and Quicklisp yet, I suggest you to use just the concurrency primitives offered by LispWorks [1], which will be probably be lower-level but will teach you the concepts &quot;the hard way&quot;. Later you&#39;ll learn how to write simpler, higher-level code using maybe some library like lparallel.</div><div><br></div><div>Splitting a call to servo-move in several smaller movements and interleaving those sequentially may also work, although I don&#39;t think it is fit for this particular application - moving physical things in the real world.</div><div> </div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr"><div style="font-size:small">Also, I am a relative beginner at LISP.</div></div></blockquote><div><br></div><div>These are issues that go beyond Lisp and are applicable to every programming language. So it is particularly difficult because you have first to grasp the general concepts, then understand how they can be expressed in Lisp.</div><div><br></div><div>[1] I seldom use LW myself and know it only superficially, but a quick search brought me here: <a href="http://www.lispworks.com/documentation/lw70/LW/html/lw-133.htm#pgfId-885976">http://www.lispworks.com/documentation/lw70/LW/html/lw-133.htm#pgfId-885976</a></div><div> </div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div class=""><div class="h5"><div class="gmail_extra"><div class="gmail_quote">On Fri, Apr 1, 2016 at 8:08 AM, Alessio Stalla <span dir="ltr">&lt;<a href="mailto:alessiostalla@gmail.com" target="_blank">alessiostalla@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr">Hi,<div><br></div><div>You didn&#39;t say it, but I gather that the servo-move function is blocking - it only returns after the motor has ceased to move, more or less. Is that right? Otherwise, you could just call servo-move multiple times and be done with it.</div><div><br></div><div>To perform multiple operations in parallel one often resorts to using threads, directly or behind some abstraction layer. The topic is vast and complex and I don&#39;t know where you are starting from. However, at a minimum you should make sure (e.g. by reading documentation) that the servo-move function can indeed be called by multiple execution threads or &quot;processes&quot; as they are often called in Lisp systems.</div><div><br></div><div>Cheers,</div><div>Alessio</div></div><div><div><div class="gmail_extra"><br><div class="gmail_quote">On 1 April 2016 at 13:50, Robert Zeiler <span dir="ltr">&lt;<a href="mailto:rezeiler1970@gmail.com" target="_blank">rezeiler1970@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr"><div style="font-size:small"><div>Hello all.</div><div><br></div><div>This is my first post though I&#39;ve been following for several years. </div><div>I have a question regarding running several servo motors at the same time from within LISP.</div><div><br></div><div>Basically I already have an interface between the actual servo motors and my LISP based program and with this I can command a servo to move to a specific position.</div><div><br></div><div>The command looks like:  (servo-move num pos)  where num is the number of the servo and pos is the relative position, both digits.</div><div><br></div><div>What I want to do is have more than one servo move at the same time.  Is this possible and how can it be programmed?</div><div><br></div><div>Thanks</div><div style="margin:2px 0px 0px;font-size:12.8px"><div><img src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div></div></div></div>
</blockquote></div><br></div>
</div></div></blockquote></div><br></div>
</div></div></blockquote></div><br></div></div>


                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: LISP in robotics application</h1>
                 <pre>
David McClain &lt;dbm@refined-audiometrics.com&gt writes:

&gt I do indeed do this sort of thing quite often. There are any number of
&gt approaches that can be used. I constructed the Reppy Channel paradigm,
&gt following John Reppy’s Concurrent ML philosophy, as near as possible
&gt using only Lisp. But that is a higher order protocol than may be
&gt required for so simple a task as has been outlined with the servo
&gt motors. Reppy Channels attempt to encapsulate the notion of
&gt communicating threads as first class objects with functions that can
&gt operate on collections of them. But I strongly encourage anyone
&gt contemplating this approach to become familiar with the philosophy
&gt outlined by John in his textbook on Concurrent ML.
&gt
&gt The core Lispworks includes SMP threading already, and provides
&gt mailbox communications. From the sounds of things, this may be all
&gt that is required. Just be aware that SMP implies that things can
&gt change beneath you while you are running in a thread. Multiple threads
&gt may truly be running concurrently. And Martin has provided a wonderful
&gt collection of primitives to ensure fault-free memory sharing and
&gt communications.
&gt
&gt I also urge anyone embarking in this kind of programming to become
&gt aware of the work done by Pascal Bourguignon and his team in Europe.

You must be confusing me with somebody else, but I can't pinpoint
exactly who. 


&gt I have also abstracted the Butterfly system of process control and
&gt communications to something I call the BlueBird library, which unifies
&gt everything from simple function dispatch, to LW mailboxes, to Reppy
&gt Channels, to Butterfly processes (think distributed Erlang here), and
&gt more.
&gt
&gt In general, depending on your performance requirements, I have found
&gt that instantiating a stable of worker threads, to be dispatched on a
&gt (PAR form1 form2 form3 …) for parallel execution is superior. Why kill
&gt the horses after they have run the track?
&gt
&gt [G-d, I hate these email systems — auto-assigning the wrong return address all the time… ]

On such a project, I would worry early about the real-time constraints
in driving a robot servo-motors from lisp.  I'm not saying that it
wouldn't be possible or very interesting to write the high level
thinking and even motor system of the robot in lisp.  But I've got the
impression that you might still need dedicated micro-controller to
drive the servo-controler precisely and reactively, for precise and safe
movement of the robot effectors. Notably you probably will want to
implement safety reflexes at the level of the microcontrolers, near the
servos and sensors. (The higher level lisp system can then re-evaluate
the situation and decide how to proceed).

On the other hand, it's quite possible that the layers below lisp could
be as much or even more of a problem than lisp itself (garbage
collector, and multi-threading scheduling in lisp, process and memory
(swap!?) management in linux; I don't know if the real-time options of
linux allow for strong enough constraints to be able to drive several
robot servo-motor with the required constraints for safety).

In any case, my point here is that I would advise to run some benchmarks
and tests to validate the feasibility.

-- 
__Pascal Bourguignon__                 http://www.informatimago.com/
“The factory of the future will have only two employees, a man and a
dog. The man will be there to feed the dog. The dog will be there to
keep the man from touching the equipment.” -- Carl Bass CEO Autodesk

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: LISP in robotics application</h1><div dir="ltr"><div class="gmail_default" style="font-size:small">I have been reading your posts with great interest and plan to explore some of the suggestions.  As a point of clarification for questions raised in earler posts, the servos are controlled by a separate board called SD84 and is put out by Daventech. It works through the USB port on the computer that also is running LW and the robot software. There is an interface for the SD84 that exists within the robot software in LISP. The robot also has a microcontroller that handles most of the routines such as sensors, voltage monitoring and motor propulsion units. </div><div class="gmail_default" style="font-size:small"><br></div><div class="gmail_default" style="font-size:small">I hope that answers some of the questions but if not, please continue to ask and post.</div><div class="gmail_default" style="font-size:small"><br></div><div class="gmail_default" style="font-size:small">I have several books on LISP and have been involved with the language for several years, learning as I go.  I do have several &quot;threads&quot; in the current robot software for such things as speech recognition/understanding, emotions etc.  I have to understand and figure out how the thread concept would work for running/commanding servos.  Any help would be appreciated. </div><div class="gmail_default" style="font-size:small"><br></div><div class="gmail_default" style="font-size:small">Robert</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Apr 1, 2016 at 7:50 PM, David McClain <span dir="ltr">&lt;<a href="mailto:dbm@refined-audiometrics.com" target="_blank">dbm@refined-audiometrics.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><br>
Sorry... I meant Pascal Costanza<br>
<br>
Dr. David McClain<br>
<a href="mailto:dbm@refined-audiometrics.com">dbm@refined-audiometrics.com</a><br>
Tel: <a href="tel:%28%2B1%29%20520-529-2437" value="+15205292437">(+1) 520-529-2437</a><br>
<br>
Sent from my iPad<br>
<div class="HOEnZb"><div class="h5"><br>
&gt; On Apr 1, 2016, at 13:23, Pascal J. Bourguignon &lt;<a href="mailto:pjb@informatimago.com">pjb@informatimago.com</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt; David McClain &lt;<a href="mailto:dbm@refined-audiometrics.com">dbm@refined-audiometrics.com</a>&gt; writes:<br>
&gt;<br>
&gt;&gt; I do indeed do this sort of thing quite often. There are any number of<br>
&gt;&gt; approaches that can be used. I constructed the Reppy Channel paradigm,<br>
&gt;&gt; following John Reppy’s Concurrent ML philosophy, as near as possible<br>
&gt;&gt; using only Lisp. But that is a higher order protocol than may be<br>
&gt;&gt; required for so simple a task as has been outlined with the servo<br>
&gt;&gt; motors. Reppy Channels attempt to encapsulate the notion of<br>
&gt;&gt; communicating threads as first class objects with functions that can<br>
&gt;&gt; operate on collections of them. But I strongly encourage anyone<br>
&gt;&gt; contemplating this approach to become familiar with the philosophy<br>
&gt;&gt; outlined by John in his textbook on Concurrent ML.<br>
&gt;&gt;<br>
&gt;&gt; The core Lispworks includes SMP threading already, and provides<br>
&gt;&gt; mailbox communications. From the sounds of things, this may be all<br>
&gt;&gt; that is required. Just be aware that SMP implies that things can<br>
&gt;&gt; change beneath you while you are running in a thread. Multiple threads<br>
&gt;&gt; may truly be running concurrently. And Martin has provided a wonderful<br>
&gt;&gt; collection of primitives to ensure fault-free memory sharing and<br>
&gt;&gt; communications.<br>
&gt;&gt;<br>
&gt;&gt; I also urge anyone embarking in this kind of programming to become<br>
&gt;&gt; aware of the work done by Pascal Bourguignon and his team in Europe.<br>
&gt;<br>
&gt; You must be confusing me with somebody else, but I can&#39;t pinpoint<br>
&gt; exactly who.<br>
&gt;<br>
&gt;<br>
&gt;&gt; I have also abstracted the Butterfly system of process control and<br>
&gt;&gt; communications to something I call the BlueBird library, which unifies<br>
&gt;&gt; everything from simple function dispatch, to LW mailboxes, to Reppy<br>
&gt;&gt; Channels, to Butterfly processes (think distributed Erlang here), and<br>
&gt;&gt; more.<br>
&gt;&gt;<br>
&gt;&gt; In general, depending on your performance requirements, I have found<br>
&gt;&gt; that instantiating a stable of worker threads, to be dispatched on a<br>
&gt;&gt; (PAR form1 form2 form3 …) for parallel execution is superior. Why kill<br>
&gt;&gt; the horses after they have run the track?<br>
&gt;&gt;<br>
&gt;&gt; [G-d, I hate these email systems — auto-assigning the wrong return address all the time… ]<br>
&gt;<br>
&gt; On such a project, I would worry early about the real-time constraints<br>
&gt; in driving a robot servo-motors from lisp.  I&#39;m not saying that it<br>
&gt; wouldn&#39;t be possible or very interesting to write the high level<br>
&gt; thinking and even motor system of the robot in lisp.  But I&#39;ve got the<br>
&gt; impression that you might still need dedicated micro-controller to<br>
&gt; drive the servo-controler precisely and reactively, for precise and safe<br>
&gt; movement of the robot effectors. Notably you probably will want to<br>
&gt; implement safety reflexes at the level of the microcontrolers, near the<br>
&gt; servos and sensors. (The higher level lisp system can then re-evaluate<br>
&gt; the situation and decide how to proceed).<br>
&gt;<br>
&gt; On the other hand, it&#39;s quite possible that the layers below lisp could<br>
&gt; be as much or even more of a problem than lisp itself (garbage<br>
&gt; collector, and multi-threading scheduling in lisp, process and memory<br>
&gt; (swap!?) management in linux; I don&#39;t know if the real-time options of<br>
&gt; linux allow for strong enough constraints to be able to drive several<br>
&gt; robot servo-motor with the required constraints for safety).<br>
&gt;<br>
&gt; In any case, my point here is that I would advise to run some benchmarks<br>
&gt; and tests to validate the feasibility.<br>
&gt;<br>
&gt; --<br>
&gt; __Pascal Bourguignon__                 <a href="http://www.informatimago.com/" rel="noreferrer" target="_blank">http://www.informatimago.com/</a><br>
&gt; “The factory of the future will have only two employees, a man and a<br>
&gt; dog. The man will be there to feed the dog. The dog will be there to<br>
&gt; keep the man from touching the equipment.” -- Carl Bass CEO Autodesk<br>
&gt;<br>
&gt; _______________________________________________<br>
&gt; Lisp Hug - the mailing list for LispWorks users<br>
&gt; <a href="mailto:lisp-hug@lispworks.com">lisp-hug@lispworks.com</a><br>
&gt; <a href="http://www.lispworks.com/support/lisp-hug.html" rel="noreferrer" target="_blank">http://www.lispworks.com/support/lisp-hug.html</a><br>
&gt;<br>
&gt;<br>
<br>
<br>
_______________________________________________<br>
Lisp Hug - the mailing list for LispWorks users<br>
<a href="mailto:lisp-hug@lispworks.com">lisp-hug@lispworks.com</a><br>
<a href="http://www.lispworks.com/support/lisp-hug.html" rel="noreferrer" target="_blank">http://www.lispworks.com/support/lisp-hug.html</a><br>
<br>
</div></div></blockquote></div><br></div>


                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:28 UTC
             </div>
            </footer>
           </body>
          </html>