<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>pixmap-ports and animations</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>pixmap-ports and animations</h1>
                <pre>
Hi,

I am trying to figure out a platform-independent way to draw animations with pixmap-ports. I am using a timer to draw periodically to a pixmap-port and then copy the port by copy-pixels to a window. It seems I need to use a different technique on Mac and Windows (I do not know about other platforms). 

On Mac, copy-pixels seems to work only inside a display-callback. So, I call invalidate (inside an apply-in-pane-process call) in the timer function and perform the drawing in the callback. This does not work in Windows as the window seems to erase itself before the drawing starts, which causes blinking. In Windows I draw directly to the window in the timer function (again, using the pane process).

Is this a correct way how to do it or am I missing something? It is a little bit inconvenient. I use LW 6.1 Personal and Professional.

Thanks,

Michal

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:31 UTC
             </div>
            </footer>
           </body>
          </html>