<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Clsql returning garbage in LW 7.0</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Clsql returning garbage in LW 7.0</h1><div dir="ltr"><p class="MsoNormal" style="font-size:12.8px">Hello,<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">I recently ran the &quot;ql:update-all-dists&quot; command from Quicklisp in Lispworks 7.0. Afterwards a program that was working perfectly using Clsql no longer works properly in the IDE. It looks as though it sees the <span style="font-size:12.8px">Microsoft access </span><span style="font-size:12.8px">database structure correctly. However with the exception of date type fields it returns garbage from my database. It is important to note that the database is fine and works flawlessly with the earlier standalone executable of this same program. </span></p><p class="MsoNormal" style="font-size:12.8px"><span style="font-size:12.8px"><br></span></p><p class="MsoNormal" style="font-size:12.8px"><span style="font-size:12.8px">This is an example of what I am seeing.</span></p><p class="MsoNormal" style="font-size:12.8px"><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">When I evaluate this:<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">(clsql:connect &#39;(&quot;MyDatabase&quot; &quot;&quot; &quot;&quot;) :if-exists :new :database-type :odbc)<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px">(setf MyList (clsql:select &#39;* :from &#39;MyTable :where (string-equal &#39;office &quot;office-name&quot;)))<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">It returns something that looks like this:<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">((“^@” “^A^A^A^A^A” “^A^A^A^A^A^A^A^A” “^A” nil “2004-02-03T00:00:00” “^A^A^A^A^A^A” “^@^@^@^@^@^@”)(“^@” “^A^A^A^A^A” “^A^A^A^A^A^A^A^A” “^A” nil “2005-02-03T00:00:00” “^A^A^A^A^A^A” “^@^@^@^@^@^@”))<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">I tried using an earlier version of Clsql but it did not work. I tried contacting the person who maintains Clsql in multiple ways but I did not hear back. So I am guessing he no longer supports it.</p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">Is anyone else having this issue? Any idea what is wrong?</p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">Thanks,</p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">William</p></div>


               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Clsql returning garbage in LW 7.0</h1><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"></head><body dir="auto"><div></div><div>Hi William,</div><div><br></div><div>I’m don’t know about CLSQL, but what you describe smells a lot like a character encoding issue.&nbsp;</div><div><br></div><div>Have a look at LispWorks 7 release notes I think something has changed in this regard, meaning that there may be a setting that you can adjust to control character encoding wrt CLSQL.&nbsp;</div><div><br></div><div><br></div><div>Best,</div><div>Cam</div><div><br></div><div><br>On 12 Oct 2017, at 22:52, William Proffitt &lt;<a href="mailto:jacobite1607@gmail.com">jacobite1607@gmail.com</a>&gt; wrote:<br><br></div><blockquote type="cite"><div><div dir="ltr"><p class="MsoNormal" style="font-size:12.8px">Hello,<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u>&nbsp;<u></u></p><p class="MsoNormal" style="font-size:12.8px">I recently ran the "ql:update-all-dists"&nbsp;command from Quicklisp in Lispworks 7.0. Afterwards a program that was working perfectly using Clsql no longer works properly in the IDE. It looks as though it sees the&nbsp;<span style="font-size:12.8px">Microsoft access&nbsp;</span><span style="font-size:12.8px">database structure correctly. However with the exception of date type fields it returns garbage from my database. It is important to note that the database is fine and works flawlessly with the earlier standalone executable of this same program.&nbsp;</span></p><p class="MsoNormal" style="font-size:12.8px"><span style="font-size:12.8px"><br></span></p><p class="MsoNormal" style="font-size:12.8px"><span style="font-size:12.8px">This is an example of what I am seeing.</span></p><p class="MsoNormal" style="font-size:12.8px"><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u>&nbsp;<u></u></p><p class="MsoNormal" style="font-size:12.8px">When I evaluate this:<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u>&nbsp;<u></u></p><p class="MsoNormal" style="font-size:12.8px">(clsql:connect '("MyDatabase" "" "") :if-exists :new :database-type :odbc)<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px">(setf MyList (clsql:select '* :from 'MyTable :where (string-equal 'office "office-name")))<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u>&nbsp;<u></u></p><p class="MsoNormal" style="font-size:12.8px">It returns something that looks like this:<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u>&nbsp;<u></u></p><p class="MsoNormal" style="font-size:12.8px">((“^@” “^A^A^A^A^A” “^A^A^A^A^A^A^A^A” “^A” nil “2004-02-03T00:00:00” “^A^A^A^A^A^A” “^@^@^@^@^@^@”)(“^@” “^A^A^A^A^A” “^A^A^A^A^A^A^A^A” “^A” nil “2005-02-03T00:00:00” “^A^A^A^A^A^A” “^@^@^@^@^@^@”))<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">I tried using an earlier version of Clsql but it did not work. I tried contacting the person who maintains Clsql in multiple ways but I did not hear back. So I am guessing he no longer supports it.</p><p class="MsoNormal" style="font-size:12.8px"><u></u>&nbsp;<u></u></p><p class="MsoNormal" style="font-size:12.8px">Is anyone else having this issue? Any idea what is wrong?</p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">Thanks,</p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">William</p></div>
</div></blockquote></body></html>

                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Clsql returning garbage in LW 7.0</h1><div dir="ltr">I think you are correct on the encoding issue Camille. I happened to have an early copy of the quicklisp directory on another PC and tried a little experiment. First I copied only the CLSQL directory. It did not fix the problem. Then I copied all the other &quot;dist&quot; directories and the problem went away. So my guess is one of the dependencies CLSQL is using is at fault. When I get a chance I will try to isolate which one.</div><div class="gmail_extra"><br><div class="gmail_quote">On Tue, Oct 17, 2017 at 3:28 AM, Camille Troillard <span dir="ltr">&lt;<a href="mailto:camille.troillard@icloud.com" target="_blank">camille.troillard@icloud.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="auto"><div></div><div>Hi William,</div><div><br></div><div>I’m don’t know about CLSQL, but what you describe smells a lot like a character encoding issue. </div><div><br></div><div>Have a look at LispWorks 7 release notes I think something has changed in this regard, meaning that there may be a setting that you can adjust to control character encoding wrt CLSQL. </div><div><br></div><div><br></div><div>Best,</div><div>Cam</div><div><div class="h5"><div><br></div><div><br>On 12 Oct 2017, at 22:52, William Proffitt &lt;<a href="mailto:jacobite1607@gmail.com" target="_blank">jacobite1607@gmail.com</a>&gt; wrote:<br><br></div><blockquote type="cite"><div><div dir="ltr"><p class="MsoNormal" style="font-size:12.8px">Hello,<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">I recently ran the &quot;ql:update-all-dists&quot; command from Quicklisp in Lispworks 7.0. Afterwards a program that was working perfectly using Clsql no longer works properly in the IDE. It looks as though it sees the <span style="font-size:12.8px">Microsoft access </span><span style="font-size:12.8px">database structure correctly. However with the exception of date type fields it returns garbage from my database. It is important to note that the database is fine and works flawlessly with the earlier standalone executable of this same program. </span></p><p class="MsoNormal" style="font-size:12.8px"><span style="font-size:12.8px"><br></span></p><p class="MsoNormal" style="font-size:12.8px"><span style="font-size:12.8px">This is an example of what I am seeing.</span></p><p class="MsoNormal" style="font-size:12.8px"><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">When I evaluate this:<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">(clsql:connect &#39;(&quot;MyDatabase&quot; &quot;&quot; &quot;&quot;) :if-exists :new :database-type :odbc)<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px">(setf MyList (clsql:select &#39;* :from &#39;MyTable :where (string-equal &#39;office &quot;office-name&quot;)))<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">It returns something that looks like this:<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">((“^@” “^A^A^A^A^A” “^A^A^A^A^A^A^A^A” “^A” nil “2004-02-03T00:00:00” “^A^A^A^A^A^A” “^@^@^@^@^@^@”)(“^@” “^A^A^A^A^A” “^A^A^A^A^A^A^A^A” “^A” nil “2005-02-03T00:00:00” “^A^A^A^A^A^A” “^@^@^@^@^@^@”))<u></u><u></u></p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">I tried using an earlier version of Clsql but it did not work. I tried contacting the person who maintains Clsql in multiple ways but I did not hear back. So I am guessing he no longer supports it.</p><p class="MsoNormal" style="font-size:12.8px"><u></u> <u></u></p><p class="MsoNormal" style="font-size:12.8px">Is anyone else having this issue? Any idea what is wrong?</p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">Thanks,</p><p class="MsoNormal" style="font-size:12.8px"><br></p><p class="MsoNormal" style="font-size:12.8px">William</p></div>
</div></blockquote></div></div></div></blockquote></div><br></div>


                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:26 UTC
             </div>
            </footer>
           </body>
          </html>