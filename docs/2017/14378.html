<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>How to force editor pane to scroll to end</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
           </head>
           <body>
            <div class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </div>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>How to force editor pane to scroll to end</h1><div dir="ltr">Hi,<div><br></div><div>This is my first time posting, so I apologize if the format is not correct.  I have been using Lispworks for about 9 months, so kind of new still.  I have some GUIs I developed that include message areas that are updated periodically.  I made them scrollable so the user can look back at old messages.  Currently, when the application updates the message area the latest messages are at the bottom and are not visible -- the user must scroll down to seem them.  I would like the GUI to automatically scroll to the end whenever a new message is written to the area.</div><div><br></div><div>I wrote some code that when invoked by a button will do this, here:</div><div><br></div><div><div>(defmethod scroll-to-end-message-pane ((self executioner-gui))</div><div>  (let </div><div>      (</div><div>       (editor-pane-object (message-pane-of self))</div><div>       (max-range nil)</div><div>       (page-size nil)</div><div>       )  </div><div>    (setf max-range (capi:get-vertical-scroll-parameters editor-pane-object :max-range))</div><div>    (setf page-size (capi:get-vertical-scroll-parameters editor-pane-object :page-size))</div><div>    (if (null max-range)</div><div>        (return-from scroll-to-end-message-pane nil)</div><div>      )</div><div>    (if (null page-size)</div><div>        (return-from scroll-to-end-message-pane nil)</div><div>      )</div><div>    (capi:apply-in-pane-process editor-pane-object &#39;capi:scroll editor-pane-object :vertical :move (- max-range page-size))</div><div>    )</div><div>  )</div></div><div><br></div><div>The problem is I want to invoke this function not from a button but automatically after the text is updated.  Unfortunately, that does not work.  I get this error:</div><div><br></div><div>Deleted point #&lt;EDITOR::I-POINT NIL NIL offset 0 40202010FB&gt;<br></div><div><br></div><div>I am guessing I should invoke my function from some callback, such as after the editor pane is updated, to avoid this error, but I cannot figure out how to do that.  </div><div><br></div><div>Does anyone know how I can do make this work?  Or is there a simpler way to keep the latest entries in the text area visible?</div><div><br></div><div>Thanks!</div><div><br></div><div>Jeff.</div></div>


               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: How to force editor pane to scroll to end</h1>
                 <p>
                  Unable to parse email body. Email id is 14379
                </article>
               </section>
              </section>
             </div>
            </div>
           </body>
          </html>