<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Codesigning on MacOS - update to docs and 'detrius' warning</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Codesigning on MacOS - update to docs and 'detrius' warning</h1><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta charset="utf-8">
<style>body{font-family:-apple-system,Helvetica,Arial,sans-serif;}blockquote{margin:0;padding:0 0 0 12px;border-left:1px solid #aaa;color:#aaa;}hr.unibox-forward{border:0;color:#888;background-color:#888;height:1px;}</style>
</head>
<body>
<div>Hello,</div>
<div><br></div>
<div>I am following the codesigning instructions found at: <a href="http://www.lispworks.com/kb/22413673cf02ae0680257bdd005180ba.html">http://www.lispworks.com/kb/22413673cf02ae0680257bdd005180ba.html</a>
</div>
<div><br></div>
<div>One thing that I have found that is needed now on (possibly) Sierra is the —deep flag to codesign is required now or you get an error during the signing process.</div>
<div><br></div>
<div>I think the documentation should be updated to reflect this fact and could save people some time.  I’m not positive if everything is signed correctly yet, but this gets it though the command.</div>
<div><br></div>
<div>One side effect I’m seeing is that if I update the app.icns file after delivery, I get the following warning during signing:</div>
<div><br></div>
<div>
<div>     Typing - Common Lisp Edition.app/: resource fork, Finder information, or similar detritus not allowed</div>
<div><br></div>
<div>The application seems to run fine with the updated icons, but I’m thinking that this error will stop entry into the app store upon submission.  Any thoughts on this and how to avoid this warning/error?</div>
<div><br></div>
<div>Here is m delivery file for the app:</div>
<div><br></div>
<div>
<div>;; -*- mode: lisp -*-</div>
<div>(in-package "CL-USER")</div>
<div>(load-all-patches)</div>
<div>(load "~/lispworks/Typing - Common Lisp Edition.lisp")</div>
<div>(deliver #'typing</div>
<div>         #+:cocoa </div>
<div>         (create-macos-application-bundle</div>
<div>          "~/lispworks/releases/Typing - Common Lisp Edition.app"</div>
<div>          ;; Do not copy file associations...</div>
<div>          :document-types nil</div>
<div>          ;; ...or CFBundleIdentifier from the LispWorks bundle</div>
<div>          :identifier "ca.busfactor1.typing"</div>
<div>          )</div>
<div>         1</div>
<div>         :interface :capi</div>
<div>         :shake-shake-shake t</div>
<div>         :split :resources</div>
<div>         :startup-bitmap-file nil)</div>
</div>
<div><br></div>
<div>—<br>
</div>
</div>
<div>Burton Samograd</div>
<div><br></div>
<div class="unibox-signature"></div>
</body>
</html>

               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:31 UTC
             </div>
            </footer>
           </body>
          </html>