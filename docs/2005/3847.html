<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>opengl error in LWW4.4.5 delivery</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>opengl error in LWW4.4.5 delivery</h1>
                <pre>Hello,

The following opengl error occurs after launching a delivery application that
has been created in LWW 4.4.5. When working in our normal programming 
environment in LWW 4.4.5 we do not have this problem.

Furthermore, this problem does not occur in LWM 4.4.5 (here
the delivery works fine). Also a delivery created in the older LWW 
4.4 works fine.

So it seems that this is a new problem that happens only in a LWW 
4.4.5 delivery.


Mikael
=================================
*** EXCEPTION DATA ***
code c0000005  flags 00000000 address 09e19503
EIP 09e19503  ESP 0b12f398  EBP 00000003

Error: ** Processor Fault #xC0000005 at #x9E19503.
   1 (abort) Return to event loop.

Type :b for backtrace, :c &lt;option number&gt to proceed,  or :? for other options

CL-USER 1 : 1 &gt :bb

#&lt;PACKAGE COMMON-LISP-USER&gt

Condition: ** Processor Fault #xC0000005 at #x9E19503.
Call to IO::FAULT-HANDLER-AUX (offset 375)
   IO::PC    : #&lt;Raw value #x09E19503 (165778691)&gt
   IO::FAULT : #&lt;Raw value #xC0000005 (3221225477)&gt

Call to (SUBFUNCTION 
SYSTEM::|%FOREIGN-CALLABLE/fault_handler_on_c_stack_aux| (F
LI:DEFINE-FOREIGN-CALLABLE "fault_handler_on_c_stack_aux")) (offset 36)
   FLI::%FOREIGN-CALL-STACK% : #&lt;Raw value #x0B12F390 (185791376)&gt

Call to SYSTEM::%FUNCALL1-ON-LISP-STACK (offset 34)

Call to FLI::FOREIGN-CALLABLE-ENTRY-POINT-AUX-NESTED (offset 106)

Call to OPENGL:GL-GET-INTEGERV (offset 214)
   OPENGL::PNAME  : 2978
   OPENGL::PARAMS : #&lt;Pointer to type (:SIGNED :INT) = #x011612E0&gt

Binding frame:
   SYSTEM::VIEWPORT : #&lt;Pointer to type (:SIGNED :INT) = #x00395FB8&gt

Call to (METHOD SYSTEM::PICK (SYSTEM::PWGL-CLICK-WINDOW T T)) (offset 298)
   SYSTEM::SELF         : #&lt;SYSTEM::PWGL-PW-WINDOW "PWGL1" 23002F9C&gt
   SYSTEM::MOUSEX       : 494
   SYSTEM::MOUSEY       : 381
   SYSTEM::CLICK?       : NIL
   SYSTEM::SELECTBUF    : #&lt;Pointer to type :UNSIGNED-INT = #x011513D0&gt
   SYSTEM::HEIGHT       : 476
   SYSTEM::VIEWPORT     : #&lt;Pointer to type (:SIGNED :INT) = #x011612E0&gt
   SYSTEM::ORIG-X       : 0
   SYSTEM::ORIG-Y       : 0
   SYSTEM::ORIG-FINAL-Y : 476.0
   SYSTEM::FINAL-MOUSEY : 95.0
   SYSTEM::HITS         : NIL

Binding frame:
   CLOS::*NEXT-METHODS* : (#&lt;function (METHOD SYSTEM::PICK 
(SYSTEM::PWGL-CLICK-WI
NDOW T T)) 2216031A&gt)

Call to (METHOD SYSTEM::PICK (SYSTEM::PWGL-PW-WINDOW T T)) (offset 148)
   SYSTEM::SELF         : #&lt;SYSTEM::PWGL-PW-WINDOW "PWGL1" 23002F9C&gt
   SYSTEM::MOUSEX       : 494
   SYSTEM::MOUSEY       : 381
   SYSTEM::CLICK?       : NIL
   DBG::G               : (#&lt;function (METHOD SYSTEM::PICK 
(SYSTEM::PWGL-CLICK-WI
NDOW T T)) 2216031A&gt)
   DBG::G               : 4
   DBG::G               : #&lt;function (METHOD SYSTEM::PICK 
(SYSTEM::PWGL-CLICK-WIN
DOW T T)) 2216031A&gt
   CLOS::*NEXT-METHODS* : NIL

Binding frame:
   CLOS::*NEXT-METHODS* : NIL

Call to Anonymous compiled function #&lt;function 23027042&gt (offset 100)

Call to Anonymous compiled function #&lt;function 203BEC52&gt (offset 379)

Catch frame: #&lt;unbound&gt

Call to (METHOD SYSTEM::PWGL-MOTION (SYSTEM::PWGL-PANE T T)) (offset 99)
   SYSTEM::SELF : #&lt;SYSTEM::PWGL-PANE SYSTEM::OPENGL  230049A4&gt
   SYSTEM::X    : 494
   SYSTEM::Y    : 381
   DBG::G       : #&lt;Representation CAPI-WIN32-LIB:R-OUTPUT-PANE 
#&lt;SYSTEM::PWGL-PA
NE SYSTEM::OPENGL  230049A4&gt&gt
   DBG::G       : :LOCK

Catch frame: #&lt;unbound&gt

Binding frame:
   CAPI::*PREVIOUS-OVERRIDE-CURSORS* : NIL

Catch frame: CAPI::ABORT-CALLBACK-CATCH

Binding frame:
   CAPI::*TOP-LEVEL-INTERFACE* : NIL

Call to CAPI::IN-PROCESS-CAPI-EVENT-CALLBACK (offset 255)
   CAPI::SELF                : #&lt;SYSTEM::PWGL-PANE SYSTEM::OPENGL  230049A4&gt
   CAPI::TRANSLATOR          : NIL
   CAPI-INTERNALS:CALLBACK   : SYSTEM::PWGL-MOTION
   CAPI::EXTRA-CALLBACK-ARGS : NIL
   CAPI::EVENT-ARGS          : (494 381)

Call to CAPI:EXECUTE-WITH-INTERFACE (offset 72)
   CAPI:INTERFACE : #&lt;SYSTEM::PWGL-PW-WINDOW "PWGL1" 23002F9C&gt
   FUNCTION       : CAPI::IN-PROCESS-CAPI-EVENT-CALLBACK
   CAPI::ARGS     : (#&lt;SYSTEM::PWGL-PANE SYSTEM::OPENGL  230049A4&gt NIL 
SYSTEM::PW
GL-MOTION NIL (494 381))

Call to CAPI-INTERNALS:PROCESS-CAPI-EVENT-WITH-HANDLER (offset 59)
   CAPI::SELF         : #&lt;SYSTEM::PWGL-PANE SYSTEM::OPENGL  230049A4&gt
   CAPI::SEARCH-KEY   : :MOVEMENT
   CAPI::MERGED-THING : 0
   CAPI::EVENT-ARGS   : (494 381)

Call to (SUBFUNCTION 1 WIN32::MAKE-CALLER-FOR-FN) (offset 60)
   WIN32::FN      : #&lt;function (SUBFUNCTION 1 
WIN32::GET-MESSAGE-FUNCTION-FOR-PER
SIST) 20D87322&gt
   WIN32::REPR    : #&lt;Representation CAPI-WIN32-LIB:R-OUTPUT-PANE 
#&lt;SYSTEM::PWGL-
PANE SYSTEM::OPENGL  230049A4&gt&gt
   WIN32::MESSAGE : 512
   WIN32:WPARAM   : 0
   WIN32:LPARAM   : 24969710

Catch frame: #&lt;unbound&gt

Call to WIN32::WND-PROC (offset 369)
   WIN32:HWND     : #&lt;Raw value #x000B0228 (721448)&gt
   WIN32::WMSG    : #&lt;Raw value #x00000200 (512)&gt
   WIN32:WPARAM   : #&lt;Raw value #x00000000 (0)&gt
   WIN32:LPARAM   : #&lt;Raw value #x017D01EE (24969710)&gt
   WIN32::DEFPROC : WIN32::DEF-WINDOW-PROC$RAW

Call to (SUBFUNCTION WIN32::|%FOREIGN-CALLABLE/wnd_proc_callback| 
(FLI:DEFINE-FO
REIGN-CALLABLE "wnd_proc_callback")) (offset 68)
   FLI::%FOREIGN-CALL-STACK% : #&lt;Raw value #x0B12FBF4 (185793524)&gt

Call to SYSTEM::%FUNCALL1-ON-LISP-STACK (offset 34)

Call to FLI::FOREIGN-CALLABLE-ENTRY-POINT-AUX-NESTED (offset 106)

Call to WIN32:IS-DIALOG-MESSAGE (offset 136)
   WIN32::H-DLG  : 656030
   WIN32::LP-MSG : #&lt;Pointer to type WIN32::MSG = #x011333A8&gt

Catch frame: #&lt;unbound&gt

Binding frame:
   FLI::*FOREIGN-OBJECT-SCOPE-STACK-DETAILS* : #(0 NIL NIL)

Binding frame:
   WIN32::*MESSAGE-THROW* : T

Catch frame: (NIL)

Call to WIN32::PROCESS-MESSAGES (offset 614)
   WIN32::WINDOW                   : :DONT-KNOW
   WIN32::NO-HANG-P                : NIL
   WIN32::STOP-AT-USER-OPERATION-P : NIL
   MAX                             : 0
   MIN                             : 0
   WIN32::EXIT-FUNCTION            : #&lt;closure (SUBFUNCTION 
MP::EXIT-FUNCTION MP:
:WIN32-PROCESS-WAIT-FOR-EVENT) 22DE0D3A&gt
   WIN32::WAIT-FUNCTION            : #&lt;closure (SUBFUNCTION 
MP::MESSAGE-WAIT-FUNC
TION MP::WIN32-PROCESS-WAIT-FOR-EVENT) 22DE0D5A&gt
   WIN32::WAIT-REASON              : "Waiting for events"
   WIN32::CHECK-ON-ENTRY-P         : NIL
   WIN32:HWND                      : 0

Call to MP::WIN32-PROCESS-WAIT-FOR-EVENT (offset 213)
   MP:MAILBOX                   : #&lt;Mailbox 0 messages unlocked 23009AE4&gt
   MP::WAIT-REASON              : "Waiting for events"
   MP::WAIT-FUNC                : NIL
   MP::NO-HANG-P                : NIL
   MP::STOP-AT-USER-OPERATION-P : NIL

Call to MP:PROCESS-READ-EVENT (offset 452)
   MP:MAILBOX                   : #&lt;Mailbox 0 messages unlocked 23009AE4&gt
   MP::WAIT-REASON              : "Waiting for events"
   MP::WAIT-FUNC                : NIL
   MP::PROCESS-OTHER-MESSAGES-P : T
   MP::NO-HANG-P                : NIL
   MP::STOP-AT-USER-OPERATION-P : NIL

Call to CAPI-INTERNALS:LOOP-PROCESS-EVENTS (offset 381)
   CAPI::PANE          : #&lt;SYSTEM::PWGL-PW-WINDOW "PWGL1" 23002F9C&gt
   CAPI::EXIT-TEST     : (CAPI::EXIT-EVENT-LOOP-P (NIL))
   CAPI::WAIT-FUNCTION : NIL
   CAPI::WAIT-STRING   : "Waiting for events"
   CAPI::NO-HANG-P     : NIL

Catch frame: (NIL)

Binding frame:
   CAPI::*EXIT-EVENT-LOOP* : #&lt;unbound&gt

Call to CAPI::INTERFACE-EVENT-LOOP (offset 281)
   CAPI:INTERFACE : #&lt;SYSTEM::PWGL-PW-WINDOW "PWGL1" 23002F9C&gt


CAPI::INTERFACE-EVENT-LOOP &lt;- CAPI::INITIALIZE-AND-PROCESS-EVENTS
&lt;- (SUBFUNCTION MP::PROCESS-SG-FUNCTION MP::INITIALIZE-PROCESS-STACK)
&lt;- SYSTEM::%%FIRST-CALL-TO-STACK
T

CL-USER 2 : 1 &gt


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: opengl error in LWW4.4.5 delivery</h1>
                 <p>
                  Unable to parse email body. Email id is 3849
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: opengl error in LWW4.4.5 delivery solved</h1>
                 <pre>Hello,

I sent the following message a couple weeks ago (11 May). I found the mistake
in our code (I forgot to allocate memory for opengl in the delivery 
startup function).
Sorry for the previous message, now the delivery works also in LWW 4.4.5 ...

Mikael


&gtHello,
&gt
&gtThe following opengl error occurs after launching a delivery application that
&gthas been created in LWW 4.4.5. When working in our normal 
&gtprogramming environment in LWW 4.4.5 we do not have this problem.
&gt
&gtFurthermore, this problem does not occur in LWM 4.4.5 (here
&gtthe delivery works fine). Also a delivery created in the older LWW 
&gt4.4 works fine.
&gt
&gtSo it seems that this is a new problem that happens only in a LWW 
&gt4.4.5 delivery.
&gt
&gt
&gtMikael
&gt=================================
&gt*** EXCEPTION DATA ***
&gtcode c0000005  flags 00000000 address 09e19503
&gtEIP 09e19503  ESP 0b12f398  EBP 00000003
&gt
&gtError: ** Processor Fault #xC0000005 at #x9E19503.


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:52 UTC
             </div>
            </footer>
           </body>
          </html>