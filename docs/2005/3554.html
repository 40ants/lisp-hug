<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>LWM: Extending the undocumented CoreGraphics FFI?</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>LWM: Extending the undocumented CoreGraphics FFI?</h1>
                <pre>Greetings,

I'm using LispWorks 4.4 under Mac OS X 10.3.8 and would like to use the 
native CoreGraphics API (Quartz 2D) instead of using CAPI to do some 
drawing.

I noticed that LispWorks already contains a "CORE-GRAPHICS" package 
with a substantial number of external symbols corresponding to various 
CoreGraphics functions. Unfortunately several of the functions that I'm 
interested in are not available which leads me to several questions:

(1) Is there any chance the CoreGraphics FFI source can be released 
(like the editor) so that it can be enhanced/made complete?

(2) Why do some of the external symbols of "CORE-PACKAGE" not have 
function values? Where they removed when the LispWorks image was 
delivered? For example:

CL-USER&gt (describe 'core-graphics:cg-context-draw-shading)

CORE-GRAPHICS:CG-CONTEXT-DRAW-SHADING is a SYMBOL
NAME          "CG-CONTEXT-DRAW-SHADING"
VALUE         #&lt;unbound value&gt
FUNCTION      #&lt;unbound function&gt
PLIST         NIL
PACKAGE       #&lt;The CORE-GRAPHICS package, 135/256 internal, 259/512 
external&gt
; No value

CL-USER&gt (describe 'core-graphics:cg-context-restore-gstate)

CORE-GRAPHICS:CG-CONTEXT-RESTORE-GSTATE is a SYMBOL
NAME          "CG-CONTEXT-RESTORE-GSTATE"
VALUE         #&lt;unbound value&gt
FUNCTION      #&lt;Function CORE-GRAPHICS:CG-CONTEXT-RESTORE-GSTATE&gt
PLIST         (FLI::DEFINE-FOREIGN-FUNCTION-P T)
PACKAGE       #&lt;The CORE-GRAPHICS package, 135/256 internal, 259/512 
external&gt
; No value


(3) If I were to write/generate a complete FFI for CoreGraphics (in a 
different package) would it conflict with the internal LispWorks FFI?


Thanks in advance for any help you might be able to provide.

Btw if there are LispWorks on Mac users out there that might be 
interested in FFIs for MacTypes.h, all of CoreFoundation, and CoreMIDI 
let me know. I hope to polish what I have now and make the source 
available.

-greg

_______________________________________________________
Greg Wuller                             greg@wuller.com
_______________________________________________________


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: LWM: Extending the undocumented CoreGraphics FFI?</h1>
                 <pre>
On Feb 20, 2005, at 9:56 PM, Greg Wuller wrote:

&gt Btw if there are LispWorks on Mac users out there that might be 
&gt interested in FFIs for MacTypes.h, all of CoreFoundation, and CoreMIDI 
&gt let me know. I hope to polish what I have now and make the source 
&gt available.

I for one would definitely be interested in what you have done so for.

regards,
Ralph

Raffael Cavallaro, Ph.D.
raffaelcavallaro@mac.com

</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:53 UTC
             </div>
            </footer>
           </body>
          </html>