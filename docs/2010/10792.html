<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Minor query?</title>
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Minor query?</h1><html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">
I have an application that wants to display text on a graphics output pane. I want to produce the +/- symbol, which in the ASCII set on Windows is character code 177(?). This works just fine on Windows. But on OS X, LW balks at the translation across the FLI, stating that it isn't an ASCII code (maybe so...).&nbsp;<div><br></div><div>So, how can I make these extended symbols appear in an output pane? I'm using a COCOA call across the FLI so that I can have text at arbitrary angles, instead of always horizontal. But in this case, I only need horizontal text. So perhaps CAPI has a way already. But in any event it must be calling COCOA, and so I'm asking how you do that character translation across the FLI and manage to avoid the error condition?<br><br><div> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><span class="Apple-style-span" style="border-collapse: separate; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; -webkit-text-decorations-in-effect: none; text-indent: 0px; -webkit-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; -webkit-text-decorations-in-effect: none; text-indent: 0px; -webkit-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; -webkit-text-decorations-in-effect: none; text-indent: 0px; -webkit-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; -webkit-text-decorations-in-effect: none; text-indent: 0px; -webkit-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><span class="Apple-style-span" style="border-collapse: separate; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; -webkit-text-decorations-in-effect: none; text-indent: 0px; -webkit-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Dr. David McClain</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Chief Technical Officer</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Refined Audiometrics Laboratory</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">4391 N. Camino Ferreo</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Tucson, AZ&nbsp; 85750</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font: normal normal normal 12px/normal Helvetica; min-height: 14px; "><br></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">email: <a href="mailto:dbm@refined-audiometrics.com">dbm@refined-audiometrics.com</a></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">phone: 1.520.390.3995</div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">web: <a href="http://refined-audiometrics.com">http://refined-audiometrics.com</a></div><br class="Apple-interchange-newline"></span><span></span></span></span></span></span></span><br class="Apple-interchange-newline"> </div><br></div></body></html>

               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: Minor query?</h1>
                 <p>
                  Unable to parse email body. Email id is 10793
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Minor query?</h1>
                 <pre>

On Dec 10, 2010, at 8:20 PM, David McClain wrote:

&gt Rather, I draw a normal horizontal text into an offscreen buffer, then transpose it in memory before transferring to the output pane.

Can't you do the same in cocoa capi using an offscreen pane with a 90 degree rotated graphics-transform, gp:make-image-from-port (from the original output pane), gp:draw-image (which should then be rotated 90 degrees into the offscreen pane), gp:draw-string (to the offscreen), and gp:draw-image along with with-graphics-transform (to copy the 90 degree rotated result back to the original ouput pane the right way up)?

It's not clear from the docs, but doesn't gp:draw-image support rotation under cocoa? I know it supports scaling (the docs say so)- and I've been using it do do supersampled drawing to work around the integer coordinate constraint of gp:draw-polygon.

warmest regards,

Ralph


Raffael Cavallaro
raffaelcavallaro@me.com






</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Minor query?</h1>
                 <pre>

On Dec 11, 2010, at 10:24 AM, David McClain wrote:

&gt GP does support rotations for geometric objects, but not text strings.

I was not suggesting that you can draw the text string rotated - as you say, you can't.

Rather, I was suggesting that you:

1. use gp:make-image-from-port to capture your port contents (or a rectangular portion thereof large enough to display your intended vertical string, calculated using gp:get-font-height and gp:get-font-width and the length of the string).

2. use a transform (rotated 90 degrees clockwise) to draw this copied image  into an offscreen pane.

3. draw the normal, unrotated string into the offscreen pane on top of your 90 degree rotated copied pane contents.

4. use gp:make-image-from-port again, this time to copy the contents of the offscreen port.

5. draw the resulting image into the original pane using an inverse transform (rotated 90 degrees counter-clockwise), which should result in a vertical string. 


If capi under cocoa supports graphics state transforms with rotation for gp:draw-image this should work.

warmest regards,

Ralph

Raffael Cavallaro
raffaelcavallaro@me.com






</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: Minor query?</h1>
                 <pre>

On Dec 11, 2010, at 11:55 PM, David McClain wrote:

&gt Yes, that was my first approach some several years ago. It looks quite inferior in the presence of vector-based Display PDF.

Right - I've been working around this by doing supersampling. Not as clean as the native cocoa drawing, but generally usable, especially if you do 4x supersampling. Of course 4x capi supersampling is kind of slow...

warmest regards,

Ralph


Raffael Cavallaro
raffaelcavallaro@me.com






</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-07 08:34 UTC
             </div>
            </footer>
           </body>
          </html>