<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>Large Delivery Binaries?</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>Large Delivery Binaries?</h1><html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">HI all,<div><br></div><div>I found a little known tool on Mac OS X that can *significantly* shrink the size of delivered binary files from LWM. It is called gzexe. &nbsp;Unfortunately, there is a bug in the supplied gzexe script from Apple that is easily remedied. They fail to provide a mktemp template in their delivered gzipped preambles. A corrected version is included below.</div><div><br></div><div>Using gzexe'd binaries does not seem to slow the execution by very much at all. But a drawback to using gzexe'd binaries is that they are unpacked in a temp directory, and hence lose memory of their original location. That may or may not be a problem for you. If you use the image-pathname to derive the path of the executable for use in locating other items, such as runtime dylibs, then you are out of luck and have to find another way back to the original folder.</div><div><br></div><div>Another other possible disadvantage to using gzexe is that the executable is no longer amenable to patching, since it is packed by the Lempel-Ziv algorithm.</div><div><br></div><div>The shrinkage made possible by running gzexe against deliverables is huge. An example of mine has a delivered binary image size of 30.9 MB, and after gzexe it is now 5.8 MB.&nbsp;</div><div><br></div><div></div></body></html>

               </article>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:35 UTC
             </div>
            </footer>
           </body>
          </html>