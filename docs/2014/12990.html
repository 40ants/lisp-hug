<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>How do I initialize capi:radio-button-panel with NO SELECTION?</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>How do I initialize capi:radio-button-panel with NO SELECTION?</h1><html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns="http://www.w3.org/TR/REC-html40">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<meta name="Microsoft Theme 2.00" content="Pixel 011">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 12">
<meta name="Originator" content="Microsoft Word 12">
<link rel="File-List" href="cid:filelist.xml@01CF5B2D.69B6B030"><!--[if gte mso 9]><xml>
<o:OfficeDocumentSettings>
<o:AllowPNG/>
<o:TargetScreenSize>1024x768</o:TargetScreenSize>
</o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
<w:WordDocument>
<w:SpellingState>Clean</w:SpellingState>
<w:TrackMoves/>
<w:TrackFormatting/>
<w:EnvelopeVis/>
<w:PunctuationKerning/>
<w:DefaultTableStyle Number="155">Table Theme</w:DefaultTableStyle>
<w:ValidateAgainstSchemas/>
<w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
<w:IgnoreMixedContent>false</w:IgnoreMixedContent>
<w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
<w:DoNotPromoteQF/>
<w:LidThemeOther>EN-US</w:LidThemeOther>
<w:LidThemeAsian>X-NONE</w:LidThemeAsian>
<w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
<w:Compatibility>
<w:BreakWrappedTables/>
<w:SnapToGridInCell/>
<w:WrapTextWithPunct/>
<w:UseAsianBreakRules/>
<w:DontGrowAutofit/>
<w:SplitPgBreakAndParaMark/>
<w:DontVertAlignCellWithSp/>
<w:DontBreakConstrainedForcedTables/>
<w:DontVertAlignInTxbx/>
<w:Word11KerningPairs/>
<w:CachedColBalance/>
</w:Compatibility>
<w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
<m:mathPr>
<m:mathFont m:val="Cambria Math"/>
<m:brkBin m:val="before"/>
<m:brkBinSub m:val="&#45;-"/>
<m:smallFrac m:val="off"/>
<m:dispDef/>
<m:lMargin m:val="0"/>
<m:rMargin m:val="0"/>
<m:defJc m:val="centerGroup"/>
<m:wrapIndent m:val="1440"/>
<m:intLim m:val="subSup"/>
<m:naryLim m:val="undOvr"/>
</m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
<w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true" DefSemiHidden="true" DefQFormat="false" DefPriority="99" LatentStyleCount="267">
<w:LsdException Locked="false" Priority="0" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
<w:LsdException Locked="false" Priority="9" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
<w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
<w:LsdException Locked="false" Priority="39" Name="toc 1"/>
<w:LsdException Locked="false" Priority="39" Name="toc 2"/>
<w:LsdException Locked="false" Priority="39" Name="toc 3"/>
<w:LsdException Locked="false" Priority="39" Name="toc 4"/>
<w:LsdException Locked="false" Priority="39" Name="toc 5"/>
<w:LsdException Locked="false" Priority="39" Name="toc 6"/>
<w:LsdException Locked="false" Priority="39" Name="toc 7"/>
<w:LsdException Locked="false" Priority="39" Name="toc 8"/>
<w:LsdException Locked="false" Priority="39" Name="toc 9"/>
<w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
<w:LsdException Locked="false" Priority="10" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Title"/>
<w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
<w:LsdException Locked="false" Priority="11" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
<w:LsdException Locked="false" Priority="22" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
<w:LsdException Locked="false" Priority="20" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
<w:LsdException Locked="false" Priority="59" SemiHidden="false" UnhideWhenUsed="false" Name="Table Grid"/>
<w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
<w:LsdException Locked="false" Priority="1" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List Accent 1"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
<w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
<w:LsdException Locked="false" Priority="34" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
<w:LsdException Locked="false" Priority="29" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
<w:LsdException Locked="false" Priority="30" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List Accent 1"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List Accent 2"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List Accent 2"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List Accent 3"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List Accent 3"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List Accent 4"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List Accent 4"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List Accent 5"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List Accent 5"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
<w:LsdException Locked="false" Priority="60" SemiHidden="false" UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
<w:LsdException Locked="false" Priority="61" SemiHidden="false" UnhideWhenUsed="false" Name="Light List Accent 6"/>
<w:LsdException Locked="false" Priority="62" SemiHidden="false" UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
<w:LsdException Locked="false" Priority="63" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
<w:LsdException Locked="false" Priority="64" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
<w:LsdException Locked="false" Priority="65" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
<w:LsdException Locked="false" Priority="66" SemiHidden="false" UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
<w:LsdException Locked="false" Priority="67" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
<w:LsdException Locked="false" Priority="68" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
<w:LsdException Locked="false" Priority="69" SemiHidden="false" UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
<w:LsdException Locked="false" Priority="70" SemiHidden="false" UnhideWhenUsed="false" Name="Dark List Accent 6"/>
<w:LsdException Locked="false" Priority="71" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
<w:LsdException Locked="false" Priority="72" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
<w:LsdException Locked="false" Priority="73" SemiHidden="false" UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
<w:LsdException Locked="false" Priority="19" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
<w:LsdException Locked="false" Priority="21" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
<w:LsdException Locked="false" Priority="31" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
<w:LsdException Locked="false" Priority="32" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
<w:LsdException Locked="false" Priority="33" SemiHidden="false" UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
<w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
<w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
</w:LatentStyles>
</xml><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073786111 1 0 415 0;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:Calibri;
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 1 Char";
	mso-style-next:Normal;
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	mso-font-kerning:0pt;}
h2
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Heading 2 Char";
	mso-style-next:Normal;
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:normal;}
h3
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Heading 3 Char";
	mso-style-next:Normal;
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:normal;}
h4
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Heading 4 Char";
	mso-style-next:Normal;
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:normal;}
h5
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Heading 5 Char";
	mso-style-next:Normal;
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	font-size:13.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:normal;}
h6
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"Heading 6 Char";
	mso-style-next:Normal;
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:normal;}
a:link, span.MsoHyperlink
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:#6666CC;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:#999999;
	text-decoration:underline;
	text-underline:single;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	mso-style-noshow:yes;
	mso-style-unhide:no;
	mso-ansi-font-size:11.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Times New Roman","serif";
	mso-ascii-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:windowtext;
	font-weight:normal;
	font-style:normal;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 1";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Arial","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 2";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Arial","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 3";
	mso-ansi-font-size:13.0pt;
	mso-bidi-font-size:13.0pt;
	font-family:"Arial","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 4";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Arial","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 5";
	mso-ansi-font-size:13.0pt;
	mso-bidi-font-size:13.0pt;
	font-family:"Arial","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 6";
	font-family:"Arial","sans-serif";
	mso-ascii-font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:Arial;
	mso-bidi-font-family:Arial;
	color:black;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
..MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-ascii-font-family:Calibri;
	mso-fareast-font-family:Calibri;
	mso-hansi-font-family:Calibri;
	mso-bidi-font-family:"Times New Roman";}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 10]><style>/* Style Definitions */
table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-hansi-font-family:Calibri;}
table.MsoTableTheme
	{mso-style-name:"Table Theme";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	border:solid #CCCCCC 1.0pt;
	mso-border-alt:solid #CCCCCC .5pt;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-border-insideh:.5pt solid #CCCCCC;
	mso-border-insidev:.5pt solid #CCCCCC;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-hansi-font-family:Calibri;}
</style><![endif]--><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext="edit" spidmax="1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext="edit">
<o:idmap v:ext="edit" data="1" />
</o:shapelayout></xml><![endif]-->
</head>
<body bgcolor="white" background="cid:image001.gif@01CF5B2D.40194E90" lang="EN-US" link="#6666CC" vlink="#999999" style="tab-interval:.5in">
<img src="cid:image001.gif@01CF5B2D.40194E90" v:src="cid:image001.gif@01CF5B2D.40194E90" v:shapes="_x0000_Mail" width="0" height="0" class="shape" style="display:none;width:0;height:0"><!--[if gte mso 9]><xml>
<v:background id="_x0000_s1025" o:bwmode="white" o:targetscreensize="800,600">
<v:fill src="cid:image001.gif@01CF5B2D.40194E90" o:title="pixbkgnd" type="frame" />
</v:background></xml><![endif]-->
<div class="WordSection1">
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">Hi,<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">I am converting a java questionnaire I wrote to lisp and a crucial element is the
<span class="SpellE">capi:radio</span>-button-panel or a substitute that looks almost just like it (not a list panel).<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">It is very important that users do not see any checked buttons before they make their own choices&#8212;NO DEFAULT SELECTION.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">However, I have scoured the
<span class="SpellE">capi</span> ref and user manuals and cannot find a way to accomplish this.<span style="mso-spacerun:yes">&nbsp;
</span>I have tried all combinations that I could think of for various init-<span class="SpellE">args</span> I thought might do the job and nothing works.<span style="mso-spacerun:yes">&nbsp;
</span>I can&#8217;t find anything in the literature that tells how to do it.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">Surely there is a way.<span style="mso-spacerun:yes">&nbsp;
</span>In my field of psychology, you would almost never design a questionnaire with default answers.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">Help please.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext">Tom Stevens<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;color:windowtext"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:10.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;color:windowtext;mso-no-proof:yes">Tom G. Stevens PhD<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:10.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;color:windowtext;mso-no-proof:yes">tstevens@csulb.edu<o:p></o:p></span></p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
</body>
</html>


               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: How do I initialize capi:radio-button-panel with NO SELECTION?</h1>
                 <pre>
Thomas Stevens wrote on Sat, 19 Apr 2014 00:41:37 +0000 04:41:

| I am converting a java questionnaire I wrote to lisp and a crucial
| element is the capi:radio-button-panel or a substitute that looks almost
just like it (not a
| list panel). It is very important that users do not see any checked
| buttons before they make their own choices-NO DEFAULT SELECTION.

The only way is to use the capi:check-button-panel like this.

(defun force-selection (pane data)
  (setf (capi:choice-selected-items pane) (list data)))

(capi:contain
 (make-instance 'capi:check-button-panel
  :interaction :multiple-selection
  :items '("one" "two" "three")
  :selected-item nil
  :callback-type :collection-data
  :retract-callback 'force-selection
  :selection-callback 'force-selection))
--
Sincerely,
Dmitry Ivanov
lisp.ystok.ru

_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>RE: How do I initialize capi:radio-button-panel with NO SELECTION?</h1>
                 <pre>
Dave,

I took your suggestion below and used it to write a more general function that would allow the user (me) to more simply write a layout with radio-buttons using all regular layout and button initargs and modifying your callback so that it would set a global variable named (format nil "*~A-selected-values-list" button-panel-name) to a list that includes the selected button text, data, and button-instance. Which is all the information I think one would need from a button selection.

By defining his/her own "button panel" it also allows the user to change other features.

NOTE: I haven't adequately tested all the features of this yet, so it probably still has bugs in it.  If you or anyone else is interested in modifying or improving my code or features, OR if you know of a better way of doing this that is portable, please let me/us know.  

Thanks very much,

Tom

PS. I hope someone from LW is watching and will make changes to CAPI so that we can easily START BUTTON PANELS WITH NO PRECHECKED BUTTONS!!


Tom G. Stevens PhD
Tom.Stevens@csulb.edu
Website: You Can Choose To Be Happy, www.csulb.edu/~tstevens

HERE IS THE CODE:  -----------------------------------------------------------------

;;MAKE-MY-BUTTON-PANEL
;;
;;ddd
(defun make-my-button-panel (button-panel-name interface-name 
                                  button-text-list  button-data-list            
                                  &amp;key   (close-interface-on-selection-p T)
                                  (layout-type 'capi:column-layout)
                                  layout-arglist
                                  button-arglist)  ;;&amp;rest button-arglist) caused error
  "Makes a button 'button-panel-name' which is a customized row or column layout of buttons that allows more options than the standard radio-button or check-button panels. Uses radio buttons as the buttons. All regular initargs to the layouts are accessed via layout-arglist, and all radio-button initargs thru the &amp;rest list. Starts with NO DEFAULT PRESELECTED BUTTON-a major change over capi. Use to create buttons and add to interfaces. RETURNS A  LAYOUT. NOTE: THESE FUNCTIONS MUST BE USED AS A PACKAGE. 2 arg lists MUST be in form of  '(list "A" "B" "C").  REQUIRES a pre-defined INTERFACE  a layout named button-panel-name (can be within another layout), but must have its own separate empty slot."
  (let
      ((layout-inst)       
       (global-selected-values-list (my-make-symbol 
                                     (format nil "*~A-selected-values-list" button-panel-name)))
       )

   (eval 
    `(defun my-button-panel-selection-callback (item interface)  
  "In U-capi-buttons-etc.lisp, MUST use with my-button-panels.  MODIFY THIS CALLBACK to get data or actions from the button selection."
  (let
      ((button-value)
       (button-data)
       )
  (with-slots (,button-panel-name) interface
    (loop
     for button in (capi:layout-description ,button-panel-name)
        unless (eq item button)
        do (setf (capi:item-selected button) nil)
        ;;end loop
        )
    ;;added
    (setf selected-text (capi:item-text item)
            selected-data (capi:item-data item)
            selected-button item)

    (setf ,global-selected-values-list 
          (list selected-text selected-data  selected-button))

    (if ,close-interface-on-selection-p
        (capi:destroy interface))
    ;;end callback
    )))
    ;;end defun,eval
    )

   (defun make-a-button (text data)
     (make-instance 'capi:radio-button 
                    :text (format nil "~A" text)
                    :data data
                    :selected nil
                    :selection-callback 'my-button-panel-selection-callback
                    :callback-type :item-interface))

  ;; (setf *mytestvar -- used to test simulated "macroexpansion" on this part only
  (eval
  `(defmethod capi:interface-display :before ((interface  ,interface-name))
    (with-slots (,button-panel-name) interface
      
    (setf  buttons-list ;; ,button-panel-name 
          (loop 
           for data in  ,button-data-list
           for text in  ,button-text-list
                collect (make-a-button text data)))
    ;;
        (capi:apply-in-pane-process ,button-panel-name
                                  #'(setf capi:layout-description)
                                         buttons-list ;;  (list ,button-panel-name)                                       
                                         ,button-panel-name))
    ;;end defmethod, eval
       ))

    (setf  layout-inst (apply #'make-instance  layout-type  layout-arglist))
    ;;now make the layout
  ))
;;test
(defun testmb ()
  (let
      ((x)
       )   
    (capi:define-interface test-radio-buttons ()
      ;;sets the button/item data values
      ((data :initform (list 1 2 3)))
      (:layouts
       (row-layout1
        capi:row-layout
        '(my-button-panel-1)
        )
       (my-button-panel-1
        capi:column-layout
        ()
        )
       )
      (:default-initargs
       :title "TEST INTERFACE"
       :visible-min-width 500
       :visible-min-height 400
       :background :yellow
       ))

    (make-my-button-panel 'my-button-panel-1 'test-radio-buttons  '(list "A" "B" "C")
                          '(list 10 20 30) 
                          :layout-arglist  '(:visible-min-width 200 :visible-min-height 300
                                             :background :green
                                             :title "My Test Buttons")
                          )  
    (capi:display (setf *mb-testinst (make-instance 'test-radio-buttons)))      
    ))
;;RESULTS OF TEST
CL-USER 12 &gt *my-button-panel-1-selected-values-list
("B" 20 #&lt;CAPI:RADIO-BUTTON "B" 200F1D83&gt)

;;------------------------- END OF CODE ----------------------------------



-----Original Message-----
From: Dave Fox [mailto:davef@lispworks.com] 
Sent: Tuesday, April 22, 2014 5:32 AM
To: Dmitry Ivanov
Cc: Thomas Stevens; lisp-hug@lispworks.com
Subject: Re: How do I initialize capi:radio-button-panel with NO SELECTION?


 &gt Thomas Stevens wrote on Sat, 19 Apr 2014 00:41:37 +0000 04:41:
 &gt
 &gt | I am converting a java questionnaire I wrote to lisp and a crucial  &gt | element is the capi:radio-button-panel or a substitute that looks almost  &gt just like it (not a  &gt | list panel). It is very important that users do not see any checked  &gt | buttons before they make their own choices-NO DEFAULT SELECTION.
 &gt
 &gt The only way is to use the capi:check-button-panel like this.
 &gt
 &gt (defun force-selection (pane data)
 &gt   (setf (capi:choice-selected-items pane) (list data)))
 &gt
 &gt (capi:contain
 &gt  (make-instance 'capi:check-button-panel
 &gt   :interaction :multiple-selection
 &gt   :items '("one" "two" "three")
 &gt   :selected-item nil
 &gt   :callback-type :collection-data
 &gt   :retract-callback 'force-selection
 &gt   :selection-callback 'force-selection))

You can also do it like this, with all of the buttons unselected initially, and imitating radio-button-panel's :single-selection interaction subsequently by making their callbacks deselect the other
buttons:

(capi:define-interface radio-buttons ()
  ((data :initform (list 1 2 3)))
  (:layouts
   (panel
    capi:column-layout)))

(defun switch-other-buttons-off (item interface)
  (with-slots (panel) interface
    (loop for button in (capi:layout-description panel)
        unless (eq item button)
        do (setf (capi:item-selected button) nil))))

(defun make-a-button (i)
  (make-instance 'capi:radio-button 
                 :text (format nil "~R" i)
                 :data i
                 :selected nil
                 :selection-callback 'switch-other-buttons-off
                 :callback-type :item-interface))

(defmethod capi:interface-display :before ((self radio-buttons))
  (with-slots (data panel) self
    (setf (capi:layout-description panel)
          (loop for i in data
                collect (make-a-button i)))))

(capi:display (make-instance 'radio-buttons))


#| This also seems to work on Windows and Cocoa, but probably should not since radio-button-panel is a :single-selection choice. Does not nullify initial selections on GTK+, so definitely not portable.
(let ((rbp (make-instance 'capi:radio-button-panel
                          :items (list 1 2 3) 
                          :print-function (lambda (i) 
                                            (format nil "~R" i))
                          :layout-class 'capi:column-layout)))
  (setf (capi:choice-selection rbp) nil)
  (capi:contain rbp))
|#


--
Dave Fox
LispWorks Ltd
http://www.lispworks.com/

Registered Office: St John's Innovation Centre, Cowley Road, Cambridge CB4 0WS Registered in England: No. 5114963 EC VAT ID: GB 833329531



_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>REVISED-SOME BUGS FIXED: How do I initialize capi:radio-button-panel with NO 
                  SELECTION?</h1>
                 <pre>
Dave/All,

I did some debugging after quickly(?) writing the earlier code (lower below):
This version works much better--allowing the layout-arglist to work pretty well.
Obviously it could be a macro, but started this way and it seemed to be ok. 
Easier for me to debug. Always open for improvements.

Tom

Tom G. Stevens PhD
Tom.Stevens@csulb.edu
Website: You Can Choose To Be Happy, www.csulb.edu/~tstevens


;;------------------------ CODE ------------------------------------------
;;
;;MAKE-MY-BUTTON-PANEL
;;
;;ddd
(defun make-my-button-panel (button-panel-name   button-parent-layout-name
                                               interface-name 
                                               button-text-list  button-data-list            
                                               &amp;key   (close-interface-on-selection-p NIL)
                                               (layout-type  (quote (quote capi:column-layout)))
                                               layout-arglist
                                               button-arglist) 
  "Makes a button 'button-panel-name' which is a customized row or column layout of buttons that allows more options than the standard radio-button or check-button panels. Uses radio buttons as the buttons. All regular initargs to the layout is accessed via layout-arglist, and all radio-button initargs thru the &amp;rest list. Starts with NO DEFAULT PRESELECTED BUTTON-a major change over capi. The arg button-parent-layout-name is the interface layout of which the button layout is an item in the layout-description.  Use to create buttons and add to interfaces. Returns a  layout. NOTE: THESE FUNCTIONS MUST BE USED AS A PACKAGE. 2 arg lists MUST be in form of '(list \"A\" \"B\" \"C\").  REQUIRES a pre-defined INTERFACE  a layout named button-panel-name (can be within another empty layout button-p
 arent-layout-name). The arglists must be preceded by double quotes."
  (let
      ((layout-inst)       
       (global-selected-values-list (my-make-symbol 
                                     (format nil "*~A-selected-values-list" button-panel-name)))
       )
   ;;Make the SELECTION CALLBACK
    (eval 
     `(defun my-button-panel-selection-callback (item interface)  
        "In U-capi-buttons-etc.lisp, MUST use with my-button-panels.  MODIFY THIS CALLBACK to get data or actions from the button selection."
        (let
            ((button-value)
             (button-data)
             )
          (with-slots (,button-panel-name ,button-parent-layout-name) interface
            (loop
             for button in (capi:layout-description ,button-panel-name)
             unless (or (equal item button) (null item))
             do 
             (setf (capi:item-selected button) nil)
             ;;end loop
             )
            ;;added
            (setf selected-text (capi:item-text item)
                  selected-data (capi:item-data item)
                  selected-button item)

            (setf ,global-selected-values-list 
                  (list selected-text selected-data  selected-button))

            (if ,close-interface-on-selection-p
                (capi:destroy interface))
            ))
     ;;end defun callback,eval
     ))
    ;; make buttons
    (defun make-a-button (text data)
      (make-instance 'capi:radio-button 
                     :text (format nil "~A" text)
                     :data data
                     :selected nil
                     :selection-callback 'my-button-panel-selection-callback
                     :callback-type :item-interface))

    ;;Make the :BEFORE METHOD 
    ;; (setf *mytestvar
    (eval
     `(defmethod capi:interface-display :before ((interface  ,interface-name))
        (with-slots (,button-panel-name ,button-parent-layout-name) interface
      
          (setf  buttons-list 
                 (loop 
                  for data in  ,button-data-list
                  for text in  ,button-text-list
                  collect (make-a-button text data)))

          ;;now make the layout
          (setf  layout-inst         ;;  ,button-panel-name
                 (apply  #'make-instance  ,layout-type
                         :description  (quote ,buttons-list) ,layout-arglist))
          (capi:apply-in-pane-process  ,button-parent-layout-name ;; ,button-panel-name
                                       #'(setf capi:layout-description)
                                       (list layout-inst)  ,button-parent-layout-name)
          ;;end with-slots,defmethod, eval
          )))
    ;;end defun make-my-button-panel
    ))

;;TEST FUNCTION
(defun testmb ()
  (let
      ((x)
       )   
    (capi:define-interface test-radio-buttons ()
      ;;sets the button/item data values
      ((data :initform (list 1 2 3)))
      (:layouts
       (row-layout1
        capi:row-layout
        '(my-button-panel-1)
        )
       (my-button-panel-1
        capi:column-layout
        ()
        )
       )
      (:default-initargs
       :title "TEST INTERFACE"
       :visible-min-width 500
       :visible-min-height 400
       :background :yellow
       ))

    (make-my-button-panel 'my-button-panel-1 'row-layout1 'test-radio-buttons 
                          '(list "A" "B" "C")
                          '(list 10 20 30) 
                          :close-interface-on-selection-p T
                          :layout-arglist  (quote (quote (:visible-min-width 200
                                             :visible-min-height 300
                                             :background :green
                                             :title "My Test Buttons"
                                             :x 50  :y 50
                                             :internal-border 30
                                             )))
                          )  
    (capi:display (setf *mb-testinst (make-instance 'test-radio-buttons)))      
    ))
;;TEST RESULT
;;  CL-USER 10 &gt *my-button-panel-1-selected-values-list
;; ("B" 20 #&lt;CAPI:RADIO-BUTTON "B" 27AA618F&gt)

;;---------------------------- END CODE ------------------------------------------------

-----Original Message-----
From: owner-lisp-hug@lispworks.com [mailto:owner-lisp-hug@lispworks.com] On Behalf Of Thomas Stevens
Sent: Wednesday, April 23, 2014 3:19 PM
To: davef@lispworks.com; Dmitry Ivanov
Cc: lisp-hug@lispworks.com
Subject: RE: How do I initialize capi:radio-button-panel with NO SELECTION?


Dave,

I took your suggestion below and used it to write a more general function that would allow the user (me) to more simply write a layout with radio-buttons using all regular layout and button initargs and modifying your callback so that it would set a global variable named (format nil "*~A-selected-values-list" button-panel-name) to a list that includes the selected button text, data, and button-instance. Which is all the information I think one would need from a button selection.

By defining his/her own "button panel" it also allows the user to change other features.

NOTE: I haven't adequately tested all the features of this yet, so it probably still has bugs in it.  If you or anyone else is interested in modifying or improving my code or features, OR if you know of a better way of doing this that is portable, please let me/us know.  

Thanks very much,

Tom

PS. I hope someone from LW is watching and will make changes to CAPI so that we can easily START BUTTON PANELS WITH NO PRECHECKED BUTTONS!!


Tom G. Stevens PhD
Tom.Stevens@csulb.edu
Website: You Can Choose To Be Happy, www.csulb.edu/~tstevens

HERE IS THE CODE:  -----------------------------------------------------------------

;;MAKE-MY-BUTTON-PANEL
;;
;;ddd
(defun make-my-button-panel (button-panel-name interface-name 
                                  button-text-list  button-data-list            
                                  &amp;key   (close-interface-on-selection-p T)
                                  (layout-type 'capi:column-layout)
                                  layout-arglist
                                  button-arglist)  ;;&amp;rest button-arglist) caused error
  "Makes a button 'button-panel-name' which is a customized row or column layout of buttons that allows more options than the standard radio-button or check-button panels. Uses radio buttons as the buttons. All regular initargs to the layouts are accessed via layout-arglist, and all radio-button initargs thru the &amp;rest list. Starts with NO DEFAULT PRESELECTED BUTTON-a major change over capi. Use to create buttons and add to interfaces. RETURNS A  LAYOUT. NOTE: THESE FUNCTIONS MUST BE USED AS A PACKAGE. 2 arg lists MUST be in form of  '(list "A" "B" "C").  REQUIRES a pre-defined INTERFACE  a layout named button-panel-name (can be within another layout), but must have its own separate empty slot."
  (let
      ((layout-inst)       
       (global-selected-values-list (my-make-symbol 
                                     (format nil "*~A-selected-values-list" button-panel-name)))
       )

   (eval 
    `(defun my-button-panel-selection-callback (item interface)  
  "In U-capi-buttons-etc.lisp, MUST use with my-button-panels.  MODIFY THIS CALLBACK to get data or actions from the button selection."
  (let
      ((button-value)
       (button-data)
       )
  (with-slots (,button-panel-name) interface
    (loop
     for button in (capi:layout-description ,button-panel-name)
        unless (eq item button)
        do (setf (capi:item-selected button) nil)
        ;;end loop
        )
    ;;added
    (setf selected-text (capi:item-text item)
            selected-data (capi:item-data item)
            selected-button item)

    (setf ,global-selected-values-list 
          (list selected-text selected-data  selected-button))

    (if ,close-interface-on-selection-p
        (capi:destroy interface))
    ;;end callback
    )))
    ;;end defun,eval
    )

   (defun make-a-button (text data)
     (make-instance 'capi:radio-button 
                    :text (format nil "~A" text)
                    :data data
                    :selected nil
                    :selection-callback 'my-button-panel-selection-callback
                    :callback-type :item-interface))

  ;; (setf *mytestvar -- used to test simulated "macroexpansion" on this part only
  (eval
  `(defmethod capi:interface-display :before ((interface  ,interface-name))
    (with-slots (,button-panel-name) interface
      
    (setf  buttons-list ;; ,button-panel-name 
          (loop 
           for data in  ,button-data-list
           for text in  ,button-text-list
                collect (make-a-button text data)))
    ;;
        (capi:apply-in-pane-process ,button-panel-name
                                  #'(setf capi:layout-description)
                                         buttons-list ;;  (list ,button-panel-name)                                       
                                         ,button-panel-name))
    ;;end defmethod, eval
       ))

    (setf  layout-inst (apply #'make-instance  layout-type  layout-arglist))
    ;;now make the layout
  ))
;;test
(defun testmb ()
  (let
      ((x)
       )   
    (capi:define-interface test-radio-buttons ()
      ;;sets the button/item data values
      ((data :initform (list 1 2 3)))
      (:layouts
       (row-layout1
        capi:row-layout
        '(my-button-panel-1)
        )
       (my-button-panel-1
        capi:column-layout
        ()
        )
       )
      (:default-initargs
       :title "TEST INTERFACE"
       :visible-min-width 500
       :visible-min-height 400
       :background :yellow
       ))

    (make-my-button-panel 'my-button-panel-1 'test-radio-buttons  '(list "A" "B" "C")
                          '(list 10 20 30) 
                          :layout-arglist  '(:visible-min-width 200 :visible-min-height 300
                                             :background :green
                                             :title "My Test Buttons")
                          )  
    (capi:display (setf *mb-testinst (make-instance 'test-radio-buttons)))      
    ))
;;RESULTS OF TEST
CL-USER 12 &gt *my-button-panel-1-selected-values-list
("B" 20 #&lt;CAPI:RADIO-BUTTON "B" 200F1D83&gt)

;;------------------------- END OF CODE ----------------------------------



-----Original Message-----
From: Dave Fox [mailto:davef@lispworks.com] 
Sent: Tuesday, April 22, 2014 5:32 AM
To: Dmitry Ivanov
Cc: Thomas Stevens; lisp-hug@lispworks.com
Subject: Re: How do I initialize capi:radio-button-panel with NO SELECTION?


 &gt Thomas Stevens wrote on Sat, 19 Apr 2014 00:41:37 +0000 04:41:
 &gt
 &gt | I am converting a java questionnaire I wrote to lisp and a crucial  &gt | element is the capi:radio-button-panel or a substitute that looks almost  &gt just like it (not a  &gt | list panel). It is very important that users do not see any checked  &gt | buttons before they make their own choices-NO DEFAULT SELECTION.
 &gt
 &gt The only way is to use the capi:check-button-panel like this.
 &gt
 &gt (defun force-selection (pane data)
 &gt   (setf (capi:choice-selected-items pane) (list data)))
 &gt
 &gt (capi:contain
 &gt  (make-instance 'capi:check-button-panel
 &gt   :interaction :multiple-selection
 &gt   :items '("one" "two" "three")
 &gt   :selected-item nil
 &gt   :callback-type :collection-data
 &gt   :retract-callback 'force-selection
 &gt   :selection-callback 'force-selection))

You can also do it like this, with all of the buttons unselected initially, and imitating radio-button-panel's :single-selection interaction subsequently by making their callbacks deselect the other
buttons:

(capi:define-interface radio-buttons ()
  ((data :initform (list 1 2 3)))
  (:layouts
   (panel
    capi:column-layout)))

(defun switch-other-buttons-off (item interface)
  (with-slots (panel) interface
    (loop for button in (capi:layout-description panel)
        unless (eq item button)
        do (setf (capi:item-selected button) nil))))

(defun make-a-button (i)
  (make-instance 'capi:radio-button 
                 :text (format nil "~R" i)
                 :data i
                 :selected nil
                 :selection-callback 'switch-other-buttons-off
                 :callback-type :item-interface))

(defmethod capi:interface-display :before ((self radio-buttons))
  (with-slots (data panel) self
    (setf (capi:layout-description panel)
          (loop for i in data
                collect (make-a-button i)))))

(capi:display (make-instance 'radio-buttons))


#| This also seems to work on Windows and Cocoa, but probably should not since radio-button-panel is a :single-selection choice. Does not nullify initial selections on GTK+, so definitely not portable.
(let ((rbp (make-instance 'capi:radio-button-panel
                          :items (list 1 2 3) 
                          :print-function (lambda (i) 
                                            (format nil "~R" i))
                          :layout-class 'capi:column-layout)))
  (setf (capi:choice-selection rbp) nil)
  (capi:contain rbp))
|#


--
Dave Fox
LispWorks Ltd
http://www.lispworks.com/

Registered Office: St John's Innovation Centre, Cowley Road, Cambridge CB4 0WS Registered in England: No. 5114963 EC VAT ID: GB 833329531



_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html




_______________________________________________
Lisp Hug - the mailing list for LispWorks users
lisp-hug@lispworks.com
http://www.lispworks.com/support/lisp-hug.html


</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 08:34 UTC
             </div>
            </footer>
           </body>
          </html>