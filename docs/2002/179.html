<!DOCTYPE html>
<html lang=en>
           <head>
            <meta charset=UTF-8>
            <title>compile &amp; deliver in same image</title>
            <meta name=viewport
                  content="width=device-width, initial-scale=1.0">
            <link rel=stylesheet
                  href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css
                  integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2
                  crossorigin=anonymous>
            <style>
section.tree {
    padding-left: 2em;
}
section.tree:first-child {
    padding-left: 0;
}
.article-link {
  margin-bottom: 1em;
}
</style>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9X3G9MMWZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9X3G9MMWZP');
</script>

           </head>
           <body>
            <header class="d-flex justify-content-center">
             <nav
                  class="navbar navbar-light bg-light w-100 mx-5 mb-3">
              <a class=navbar-brand href="/">Lisp HUG Maillist Archive</a>
             </nav>
            </header>
            <div class="d-flex justify-content-center">
             <div class="w-100 mx-5 px-3">
              <section class=tree>
               <article class=email>
                <h1>compile &amp; deliver in same image</h1>
                <pre>I used to have deliver `scripts' which did something like:

   (load ...sysdcl...)
   (compile-system ... :load t)
   (deliver ...)
   (quit)

Is it `better' to compile in one image &amp; then load &amp; deliver in
another?  I guess `better' means that less grut from the compiler will
survive into the delivered image.

Thanks

--tim


</pre>
               </article>
               <section class=tree>
                <article class=email>
                 <h1>Re: compile &amp; deliver in same image</h1>
                 <pre>Something I stopped worrying about some time back. Memory isn't as tight
as it used to be and marginal gains (at best, I'd guess) aren't worth the
hassle.

What size does it deliver down to?

-n

Tim Bradshaw wrote:

&gt I used to have deliver `scripts' which did something like:
&gt
&gt    (load ...sysdcl...)
&gt    (compile-system ... :load t)
&gt    (deliver ...)
&gt    (quit)
&gt
&gt Is it `better' to compile in one image &amp; then load &amp; deliver in
&gt another?  I guess `better' means that less grut from the compiler will
&gt survive into the delivered image.
&gt
&gt Thanks
&gt
&gt --tim


</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: compile &amp; deliver in same image</h1>
                 <pre>* Nick Levine wrote:
&gt Something I stopped worrying about some time back. Memory isn't as tight
&gt as it used to be and marginal gains (at best, I'd guess) aren't worth the
&gt hassle.

We're not really worried about size, what I meant rather was for
instance structures the compiler builds or symbols it interns which
might cause clutter of various kinds in the image - as an example
(which I know how to stop, I think) I don't really want source location
information in the image which someone could find.

--tim




</pre>
                </article>
               </section>
               <section class=tree>
                <article class=email>
                 <h1>Re: compile &amp; deliver in same image</h1>
                 <pre>* I wrote:

&gt We're not really worried about size, what I meant rather was for
&gt instance structures the compiler builds or symbols it interns which
&gt might cause clutter of various kinds in the image - as an example
&gt (which I know how to stop, I think) I don't really want source location
&gt information in the image which someone could find.

The reason I (slightly) worry about this kind of thing is not worrying
about someone going through the code with a hex editor, but because we
provide a Lisp listener in our image (and the compiler, in fact).

--tim




</pre>
                </article>
               </section>
              </section>
             </div>
            </div>
            <footer class="d-flex justify-content-center">
             <div>
              Updated at: 2020-12-10 09:02 UTC
             </div>
            </footer>
           </body>
          </html>